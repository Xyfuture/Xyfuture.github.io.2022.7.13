<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Program_week7_homework | My New Hugo Site</title>

<meta name="keywords" content="Program, homework" />
<meta name="description" content="week7-homework A - TT çš„é­”æ³•çŒ« é¢˜æ„ é¢˜é¢ è¿™é“é¢˜å°±æ˜¯æ±‚ä¸€ä¸ªä¼ é€’é—­åŒ…,é¢˜ç›®ä¸­ç»™å‡ºèƒœè´Ÿå…³ç³»å¯ä»¥çœ‹æˆä¸€å¯¹åºå¶,ç›¸äº’ä¹‹é—´å…·æœ‰ä¼ é€’å…³ç³»,ç»™å‡ºåŸºæœ¬çš„å‡ ä¸ªåºå¶,ç„¶åè®©æ±‚å–æ”¹é›†åˆçš„ä¼ é€’é—­åŒ…,ç„¶åçœ‹çœ‹é—­åŒ…ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ 
è§£æ³• é¦–å…ˆæˆ‘ä»¬æŠŠè¿™ä¸ªè¾“èµ¢å…³ç³»å»ºæˆå›¾,ä½¿ç”¨äºŒç»´çŸ©é˜µç›´æ¥å­˜å‚¨è¿™ä¸ªå›¾,Nä¸ªäººä»£è¡¨çŸ©é˜µå¤§å°æ˜¯N*N,Mä¸ªå…³ç³»åˆ™ä»£è¡¨å›¾ä¸­æœ‰Mæ¡è¾¹,A B,ä»£è¡¨Aèµ¢è¿‡B,å»ºç«‹ä¸€æ¡Aåˆ°Bçš„è¾¹,å¦‚æœBèƒ½åˆ°Cåˆ™ä¹Ÿæœ‰Aåˆ°Cçš„è¾¹
å°†å›¾æŒ‰ç…§ç»™å®šçš„å…ƒç´ åˆå§‹åŒ–åæˆ‘ä»¬å¯¹è¿™å¼ å›¾è·‘floyd-warshall.ä¸è¿‡è¦æŠŠæ¾å¼›æ¡ä»¶æ”¹ä¸€ä¸‹,ä¸æ˜¯æœ€çŸ­è·¯å¾„äº†,è€Œæ˜¯åªè¦èƒ½åˆ°è¾¾åˆ™å°†æ•°ç»„ä¸­å¯¹åº”çš„ä½ç½®æ”¹ä¸º1.
æ³¨æ„åœ¨è¿™ç§æƒ…å†µä¸‹èƒ½å¤Ÿè¿›è¡Œå‰ªæ,å¦‚æœåœ¨åˆ¤æ–­iç»è¿‡jèƒ½èƒ½ä¸èƒ½åˆ°è¾¾æ–°èŠ‚ç‚¹æ—¶,è‹¥iç›´æ¥ä¸èƒ½åˆ°è¾¾j,åˆ™è·³è¿‡.ç»è¿‡å‰ªæåæ—¶é—´å¤æ‚åº¦ä¼šé™ä½ä¸å°‘.
æœ€åè®¡ç®—æœªçŸ¥çš„æ•°é‡,é¦–å…ˆä½¿ç”¨ç»„åˆçš„çŸ¥è¯†è®¡ç®—å‡ºå¤šå°‘åœºæ¯”èµ›$C^2_n$,å‡å»çŸ©é˜µä¸­1çš„æ•°é‡,è¿™æ ·å°±èƒ½å¾—åˆ°æœªçŸ¥çš„åœºæ•°
code #include &lt;cstdio&gt;#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;cstring&gt; using namespace std; // vector&lt;int&gt; G[502]; int G[502][502];//äºŒç»´çŸ©é˜µ  int main() { int cnt; scanf(&#34;%d&#34;,&amp;cnt); for (int i=0;i&lt;cnt;i&#43;&#43;) { int n,m; scanf(&#34;%d%d&#34;,&amp;n,&amp;m); memset(G,0,sizeof(G));//åˆå§‹åŒ–  for(int j=0;j&lt;m;j&#43;&#43;) { int a,b; scanf(&#34;%d%d&#34;,&amp;a,&amp;b); G[a][b] = 1;//Aèµ¢B,A-&gt;Bçš„è·¯  } for(int k=0;k&lt;n&#43;1;k&#43;&#43;)//ç»è¿‡ç¬¬kä¸ª  for(int t=0;t&lt;n&#43;1;t&#43;&#43;) if(G[t][k]==1)//å‰ªæ,ä¸èƒ½åˆ°è¾¾å°±ä¸ç»§ç»­äº†,æ­£å¸¸floydä¹Ÿå¯ä»¥æœ‰  for(int e=0;e&lt;n&#43;1;e&#43;&#43;) if(G[k][e]==1)//æ›´æ–°,å¯èƒ½ä¼šé‡å¤,ä½†ä¸å½±å“æ­£ç¡®  G[t][e] = 1; int ans = 0; for(int p=0;p&lt;n&#43;1;p&#43;&#43;) for(int q=0;q&lt;n&#43;1;q&#43;&#43;) if(G[p][q] == 1) ans&#43;&#43;;//ç»Ÿè®¡å·²çŸ¥åœºæ•°  ans = ((n*(n-1))/2 ) - ans; printf(&#34;%d\n&#34;,ans); } } æ€»ç»“ è¿™é“é¢˜ä¸€å¼€å§‹äº¤çš„æ—¶å€™æ²¡æœ‰è€ƒè™‘å‰ªæçš„æƒ…å†µ(è™½ç„¶ä¸Šè¯¾è®²äº†),ç„¶åå°±Täº†,åæ¥æƒ³èµ·æ¥å¯ä»¥å‰ªæé™ä½å¤æ‚åº¦,å°±åŠ äº†å‰ªæ,ç„¶åå°±è¿‡äº†,ä»¥åè¿˜æ˜¯è¦å†™å¸¦å‰ªæçš„floyd.">
<meta name="author" content="">
<link rel="canonical" href="https://xyfuture.github.io/posts/program-week7-homework/" />
<link href="/assets/css/stylesheet.min.5c4f6d85b7abfcfea458637c672d16a7a9c38c37f002753cfdc7f314b6d3c8f2.css" integrity="sha256-XE9thber/P6kWGN8Zy0Wp6nDjDfwAnU8/cfzFLbTyPI=" rel="preload stylesheet"
    as="style">

<link rel="icon" href="https://xyfuture.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://xyfuture.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://xyfuture.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://xyfuture.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://xyfuture.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.80.0" />


<meta property="og:title" content="Program_week7_homework" />
<meta property="og:description" content="week7-homework A - TT çš„é­”æ³•çŒ« é¢˜æ„ é¢˜é¢ è¿™é“é¢˜å°±æ˜¯æ±‚ä¸€ä¸ªä¼ é€’é—­åŒ…,é¢˜ç›®ä¸­ç»™å‡ºèƒœè´Ÿå…³ç³»å¯ä»¥çœ‹æˆä¸€å¯¹åºå¶,ç›¸äº’ä¹‹é—´å…·æœ‰ä¼ é€’å…³ç³»,ç»™å‡ºåŸºæœ¬çš„å‡ ä¸ªåºå¶,ç„¶åè®©æ±‚å–æ”¹é›†åˆçš„ä¼ é€’é—­åŒ…,ç„¶åçœ‹çœ‹é—­åŒ…ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ 
è§£æ³• é¦–å…ˆæˆ‘ä»¬æŠŠè¿™ä¸ªè¾“èµ¢å…³ç³»å»ºæˆå›¾,ä½¿ç”¨äºŒç»´çŸ©é˜µç›´æ¥å­˜å‚¨è¿™ä¸ªå›¾,Nä¸ªäººä»£è¡¨çŸ©é˜µå¤§å°æ˜¯N*N,Mä¸ªå…³ç³»åˆ™ä»£è¡¨å›¾ä¸­æœ‰Mæ¡è¾¹,A B,ä»£è¡¨Aèµ¢è¿‡B,å»ºç«‹ä¸€æ¡Aåˆ°Bçš„è¾¹,å¦‚æœBèƒ½åˆ°Cåˆ™ä¹Ÿæœ‰Aåˆ°Cçš„è¾¹
å°†å›¾æŒ‰ç…§ç»™å®šçš„å…ƒç´ åˆå§‹åŒ–åæˆ‘ä»¬å¯¹è¿™å¼ å›¾è·‘floyd-warshall.ä¸è¿‡è¦æŠŠæ¾å¼›æ¡ä»¶æ”¹ä¸€ä¸‹,ä¸æ˜¯æœ€çŸ­è·¯å¾„äº†,è€Œæ˜¯åªè¦èƒ½åˆ°è¾¾åˆ™å°†æ•°ç»„ä¸­å¯¹åº”çš„ä½ç½®æ”¹ä¸º1.
æ³¨æ„åœ¨è¿™ç§æƒ…å†µä¸‹èƒ½å¤Ÿè¿›è¡Œå‰ªæ,å¦‚æœåœ¨åˆ¤æ–­iç»è¿‡jèƒ½èƒ½ä¸èƒ½åˆ°è¾¾æ–°èŠ‚ç‚¹æ—¶,è‹¥iç›´æ¥ä¸èƒ½åˆ°è¾¾j,åˆ™è·³è¿‡.ç»è¿‡å‰ªæåæ—¶é—´å¤æ‚åº¦ä¼šé™ä½ä¸å°‘.
æœ€åè®¡ç®—æœªçŸ¥çš„æ•°é‡,é¦–å…ˆä½¿ç”¨ç»„åˆçš„çŸ¥è¯†è®¡ç®—å‡ºå¤šå°‘åœºæ¯”èµ›$C^2_n$,å‡å»çŸ©é˜µä¸­1çš„æ•°é‡,è¿™æ ·å°±èƒ½å¾—åˆ°æœªçŸ¥çš„åœºæ•°
code #include &lt;cstdio&gt;#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;cstring&gt; using namespace std; // vector&lt;int&gt; G[502]; int G[502][502];//äºŒç»´çŸ©é˜µ  int main() { int cnt; scanf(&#34;%d&#34;,&amp;cnt); for (int i=0;i&lt;cnt;i&#43;&#43;) { int n,m; scanf(&#34;%d%d&#34;,&amp;n,&amp;m); memset(G,0,sizeof(G));//åˆå§‹åŒ–  for(int j=0;j&lt;m;j&#43;&#43;) { int a,b; scanf(&#34;%d%d&#34;,&amp;a,&amp;b); G[a][b] = 1;//Aèµ¢B,A-&gt;Bçš„è·¯  } for(int k=0;k&lt;n&#43;1;k&#43;&#43;)//ç»è¿‡ç¬¬kä¸ª  for(int t=0;t&lt;n&#43;1;t&#43;&#43;) if(G[t][k]==1)//å‰ªæ,ä¸èƒ½åˆ°è¾¾å°±ä¸ç»§ç»­äº†,æ­£å¸¸floydä¹Ÿå¯ä»¥æœ‰  for(int e=0;e&lt;n&#43;1;e&#43;&#43;) if(G[k][e]==1)//æ›´æ–°,å¯èƒ½ä¼šé‡å¤,ä½†ä¸å½±å“æ­£ç¡®  G[t][e] = 1; int ans = 0; for(int p=0;p&lt;n&#43;1;p&#43;&#43;) for(int q=0;q&lt;n&#43;1;q&#43;&#43;) if(G[p][q] == 1) ans&#43;&#43;;//ç»Ÿè®¡å·²çŸ¥åœºæ•°  ans = ((n*(n-1))/2 ) - ans; printf(&#34;%d\n&#34;,ans); } } æ€»ç»“ è¿™é“é¢˜ä¸€å¼€å§‹äº¤çš„æ—¶å€™æ²¡æœ‰è€ƒè™‘å‰ªæçš„æƒ…å†µ(è™½ç„¶ä¸Šè¯¾è®²äº†),ç„¶åå°±Täº†,åæ¥æƒ³èµ·æ¥å¯ä»¥å‰ªæé™ä½å¤æ‚åº¦,å°±åŠ äº†å‰ªæ,ç„¶åå°±è¿‡äº†,ä»¥åè¿˜æ˜¯è¦å†™å¸¦å‰ªæçš„floyd." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://xyfuture.github.io/posts/program-week7-homework/" />
<meta property="article:published_time" content="2020-04-13T22:55:21+00:00" />
<meta property="article:modified_time" content="2020-04-13T22:55:21+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Program_week7_homework"/>
<meta name="twitter:description" content="week7-homework A - TT çš„é­”æ³•çŒ« é¢˜æ„ é¢˜é¢ è¿™é“é¢˜å°±æ˜¯æ±‚ä¸€ä¸ªä¼ é€’é—­åŒ…,é¢˜ç›®ä¸­ç»™å‡ºèƒœè´Ÿå…³ç³»å¯ä»¥çœ‹æˆä¸€å¯¹åºå¶,ç›¸äº’ä¹‹é—´å…·æœ‰ä¼ é€’å…³ç³»,ç»™å‡ºåŸºæœ¬çš„å‡ ä¸ªåºå¶,ç„¶åè®©æ±‚å–æ”¹é›†åˆçš„ä¼ é€’é—­åŒ…,ç„¶åçœ‹çœ‹é—­åŒ…ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ 
è§£æ³• é¦–å…ˆæˆ‘ä»¬æŠŠè¿™ä¸ªè¾“èµ¢å…³ç³»å»ºæˆå›¾,ä½¿ç”¨äºŒç»´çŸ©é˜µç›´æ¥å­˜å‚¨è¿™ä¸ªå›¾,Nä¸ªäººä»£è¡¨çŸ©é˜µå¤§å°æ˜¯N*N,Mä¸ªå…³ç³»åˆ™ä»£è¡¨å›¾ä¸­æœ‰Mæ¡è¾¹,A B,ä»£è¡¨Aèµ¢è¿‡B,å»ºç«‹ä¸€æ¡Aåˆ°Bçš„è¾¹,å¦‚æœBèƒ½åˆ°Cåˆ™ä¹Ÿæœ‰Aåˆ°Cçš„è¾¹
å°†å›¾æŒ‰ç…§ç»™å®šçš„å…ƒç´ åˆå§‹åŒ–åæˆ‘ä»¬å¯¹è¿™å¼ å›¾è·‘floyd-warshall.ä¸è¿‡è¦æŠŠæ¾å¼›æ¡ä»¶æ”¹ä¸€ä¸‹,ä¸æ˜¯æœ€çŸ­è·¯å¾„äº†,è€Œæ˜¯åªè¦èƒ½åˆ°è¾¾åˆ™å°†æ•°ç»„ä¸­å¯¹åº”çš„ä½ç½®æ”¹ä¸º1.
æ³¨æ„åœ¨è¿™ç§æƒ…å†µä¸‹èƒ½å¤Ÿè¿›è¡Œå‰ªæ,å¦‚æœåœ¨åˆ¤æ–­iç»è¿‡jèƒ½èƒ½ä¸èƒ½åˆ°è¾¾æ–°èŠ‚ç‚¹æ—¶,è‹¥iç›´æ¥ä¸èƒ½åˆ°è¾¾j,åˆ™è·³è¿‡.ç»è¿‡å‰ªæåæ—¶é—´å¤æ‚åº¦ä¼šé™ä½ä¸å°‘.
æœ€åè®¡ç®—æœªçŸ¥çš„æ•°é‡,é¦–å…ˆä½¿ç”¨ç»„åˆçš„çŸ¥è¯†è®¡ç®—å‡ºå¤šå°‘åœºæ¯”èµ›$C^2_n$,å‡å»çŸ©é˜µä¸­1çš„æ•°é‡,è¿™æ ·å°±èƒ½å¾—åˆ°æœªçŸ¥çš„åœºæ•°
code #include &lt;cstdio&gt;#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;cstring&gt; using namespace std; // vector&lt;int&gt; G[502]; int G[502][502];//äºŒç»´çŸ©é˜µ  int main() { int cnt; scanf(&#34;%d&#34;,&amp;cnt); for (int i=0;i&lt;cnt;i&#43;&#43;) { int n,m; scanf(&#34;%d%d&#34;,&amp;n,&amp;m); memset(G,0,sizeof(G));//åˆå§‹åŒ–  for(int j=0;j&lt;m;j&#43;&#43;) { int a,b; scanf(&#34;%d%d&#34;,&amp;a,&amp;b); G[a][b] = 1;//Aèµ¢B,A-&gt;Bçš„è·¯  } for(int k=0;k&lt;n&#43;1;k&#43;&#43;)//ç»è¿‡ç¬¬kä¸ª  for(int t=0;t&lt;n&#43;1;t&#43;&#43;) if(G[t][k]==1)//å‰ªæ,ä¸èƒ½åˆ°è¾¾å°±ä¸ç»§ç»­äº†,æ­£å¸¸floydä¹Ÿå¯ä»¥æœ‰  for(int e=0;e&lt;n&#43;1;e&#43;&#43;) if(G[k][e]==1)//æ›´æ–°,å¯èƒ½ä¼šé‡å¤,ä½†ä¸å½±å“æ­£ç¡®  G[t][e] = 1; int ans = 0; for(int p=0;p&lt;n&#43;1;p&#43;&#43;) for(int q=0;q&lt;n&#43;1;q&#43;&#43;) if(G[p][q] == 1) ans&#43;&#43;;//ç»Ÿè®¡å·²çŸ¥åœºæ•°  ans = ((n*(n-1))/2 ) - ans; printf(&#34;%d\n&#34;,ans); } } æ€»ç»“ è¿™é“é¢˜ä¸€å¼€å§‹äº¤çš„æ—¶å€™æ²¡æœ‰è€ƒè™‘å‰ªæçš„æƒ…å†µ(è™½ç„¶ä¸Šè¯¾è®²äº†),ç„¶åå°±Täº†,åæ¥æƒ³èµ·æ¥å¯ä»¥å‰ªæé™ä½å¤æ‚åº¦,å°±åŠ äº†å‰ªæ,ç„¶åå°±è¿‡äº†,ä»¥åè¿˜æ˜¯è¦å†™å¸¦å‰ªæçš„floyd."/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Program_week7_homework",
  "name": "Program_week7_homework",
  "description": "week7-homework A - TT çš„é­”æ³•çŒ« é¢˜æ„ é¢˜é¢ è¿™é“é¢˜å°±æ˜¯æ±‚ä¸€ä¸ªä¼ é€’é—­åŒ…,é¢˜ç›®ä¸­ç»™å‡ºèƒœè´Ÿå…³ç³»å¯ä»¥çœ‹æˆä¸€å¯¹åºå¶,ç›¸äº’ä¹‹é—´å…·æœ‰ä¼ é€’å…³ç³»,ç»™å‡ºåŸºæœ¬çš„å‡ ä¸ªåºå¶,ç„¶åè®©æ±‚å–æ”¹é›†åˆçš„ä¼ é€’é—­åŒ…,ç„¶åçœ‹çœ‹é—­åŒ…ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ \nè§£æ³• é¦–å…ˆæˆ‘ä»¬æŠŠè¿™ä¸ªè¾“èµ¢å…³ç³»å»ºæˆå›¾,ä½¿ç”¨äºŒç»´çŸ©é˜µç›´æ¥å­˜å‚¨è¿™ä¸ªå›¾,Nä¸ªäººä»£è¡¨çŸ©é˜µå¤§å°æ˜¯N*N,Mä¸ªå…³ç³»åˆ™ä»£è¡¨å›¾ä¸­æœ‰Mæ¡è¾¹,A B,ä»£è¡¨A â€¦",
  "keywords": [
    "Program", "homework"
  ],
  "articleBody": "week7-homework A - TT çš„é­”æ³•çŒ« é¢˜æ„ é¢˜é¢ è¿™é“é¢˜å°±æ˜¯æ±‚ä¸€ä¸ªä¼ é€’é—­åŒ…,é¢˜ç›®ä¸­ç»™å‡ºèƒœè´Ÿå…³ç³»å¯ä»¥çœ‹æˆä¸€å¯¹åºå¶,ç›¸äº’ä¹‹é—´å…·æœ‰ä¼ é€’å…³ç³»,ç»™å‡ºåŸºæœ¬çš„å‡ ä¸ªåºå¶,ç„¶åè®©æ±‚å–æ”¹é›†åˆçš„ä¼ é€’é—­åŒ…,ç„¶åçœ‹çœ‹é—­åŒ…ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ \nè§£æ³• é¦–å…ˆæˆ‘ä»¬æŠŠè¿™ä¸ªè¾“èµ¢å…³ç³»å»ºæˆå›¾,ä½¿ç”¨äºŒç»´çŸ©é˜µç›´æ¥å­˜å‚¨è¿™ä¸ªå›¾,Nä¸ªäººä»£è¡¨çŸ©é˜µå¤§å°æ˜¯N*N,Mä¸ªå…³ç³»åˆ™ä»£è¡¨å›¾ä¸­æœ‰Mæ¡è¾¹,A B,ä»£è¡¨Aèµ¢è¿‡B,å»ºç«‹ä¸€æ¡Aåˆ°Bçš„è¾¹,å¦‚æœBèƒ½åˆ°Cåˆ™ä¹Ÿæœ‰Aåˆ°Cçš„è¾¹\nå°†å›¾æŒ‰ç…§ç»™å®šçš„å…ƒç´ åˆå§‹åŒ–åæˆ‘ä»¬å¯¹è¿™å¼ å›¾è·‘floyd-warshall.ä¸è¿‡è¦æŠŠæ¾å¼›æ¡ä»¶æ”¹ä¸€ä¸‹,ä¸æ˜¯æœ€çŸ­è·¯å¾„äº†,è€Œæ˜¯åªè¦èƒ½åˆ°è¾¾åˆ™å°†æ•°ç»„ä¸­å¯¹åº”çš„ä½ç½®æ”¹ä¸º1.\næ³¨æ„åœ¨è¿™ç§æƒ…å†µä¸‹èƒ½å¤Ÿè¿›è¡Œå‰ªæ,å¦‚æœåœ¨åˆ¤æ–­iç»è¿‡jèƒ½èƒ½ä¸èƒ½åˆ°è¾¾æ–°èŠ‚ç‚¹æ—¶,è‹¥iç›´æ¥ä¸èƒ½åˆ°è¾¾j,åˆ™è·³è¿‡.ç»è¿‡å‰ªæåæ—¶é—´å¤æ‚åº¦ä¼šé™ä½ä¸å°‘.\næœ€åè®¡ç®—æœªçŸ¥çš„æ•°é‡,é¦–å…ˆä½¿ç”¨ç»„åˆçš„çŸ¥è¯†è®¡ç®—å‡ºå¤šå°‘åœºæ¯”èµ›$C^2_n$,å‡å»çŸ©é˜µä¸­1çš„æ•°é‡,è¿™æ ·å°±èƒ½å¾—åˆ°æœªçŸ¥çš„åœºæ•°\ncode #include #include #include #include  using namespace std; // vector G[502]; int G[502][502];//äºŒç»´çŸ©é˜µ  int main() { int cnt; scanf(\"%d\",\u0026cnt); for (int i=0;icnt;i++) { int n,m; scanf(\"%d%d\",\u0026n,\u0026m); memset(G,0,sizeof(G));//åˆå§‹åŒ–  for(int j=0;jm;j++) { int a,b; scanf(\"%d%d\",\u0026a,\u0026b); G[a][b] = 1;//Aèµ¢B,A-Bçš„è·¯  } for(int k=0;kn+1;k++)//ç»è¿‡ç¬¬kä¸ª  for(int t=0;tn+1;t++) if(G[t][k]==1)//å‰ªæ,ä¸èƒ½åˆ°è¾¾å°±ä¸ç»§ç»­äº†,æ­£å¸¸floydä¹Ÿå¯ä»¥æœ‰  for(int e=0;en+1;e++) if(G[k][e]==1)//æ›´æ–°,å¯èƒ½ä¼šé‡å¤,ä½†ä¸å½±å“æ­£ç¡®  G[t][e] = 1; int ans = 0; for(int p=0;pn+1;p++) for(int q=0;qn+1;q++) if(G[p][q] == 1) ans++;//ç»Ÿè®¡å·²çŸ¥åœºæ•°  ans = ((n*(n-1))/2 ) - ans; printf(\"%d\\n\",ans); } } æ€»ç»“ è¿™é“é¢˜ä¸€å¼€å§‹äº¤çš„æ—¶å€™æ²¡æœ‰è€ƒè™‘å‰ªæçš„æƒ…å†µ(è™½ç„¶ä¸Šè¯¾è®²äº†),ç„¶åå°±Täº†,åæ¥æƒ³èµ·æ¥å¯ä»¥å‰ªæé™ä½å¤æ‚åº¦,å°±åŠ äº†å‰ªæ,ç„¶åå°±è¿‡äº†,ä»¥åè¿˜æ˜¯è¦å†™å¸¦å‰ªæçš„floyd.\nB - TT çš„æ—…è¡Œæ—¥è®° é¢˜æ„ é¢˜é¢ è¿™é“é¢˜æ˜¯æƒ³è¯´ç°åœ¨æœ‰ä¸€å¼ æ™®é€šè½¦çš„å›¾,ç„¶åæˆ‘ä»¬æŠŠå®ƒæƒ³æˆä¸¤å¼ ä¸Šä¸‹å¹³è¡Œçš„å›¾,åœ¨è¿™ä¸¤å¼ å›¾ä¹‹é—´åœ¨æ„å»ºä¸€ä¸ªå›¾,æ–°çš„å›¾å°±æ˜¯VIPè·¯çº¿,VIPç›¸å½“äºæŠŠä¸¤å¼ å›¾è¿æ¥èµ·æ¥äº†,ä½†æ˜¯VIPè·¯çº¿åªèƒ½èµ°ä¸€æ¬¡,ä»ä¸Šé¢çš„å›¾ä¸‹æ¥å°±æ²¡æ³•ä¸Šå»äº†,ä½†æ˜¯å¯ä»¥é€‰æ‹©ä¸ä¸‹å»,ä¸€ç›´èµ°ä¸Šé¢é‚£å¼ å›¾.\næœ€ç»ˆæ±‚ä»èµ·ç‚¹å¼€å§‹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦å’Œè·¯çº¿,åªå…è®¸èµ°ä¸€æ¬¡VIP\nè§£æ³• ä½¿ç”¨å˜å½¢çš„å †ä¼˜Dijkstraæ¥è§£,å›¾ä½¿ç”¨é‚»æ¥é“¾è¡¨(vectorå…¶å®æ˜¯é‚»æ¥æ•°ç»„).\né¦–å…ˆæˆ‘ä»¬å·²ç»çŸ¥é“å›¾çš„ç»“æ„,ä¸¤å¼ ä¸€æ ·çš„å›¾ä¸Šä¸‹å¹³è¡Œæ”¾ç½®,ç„¶åä¸¤å¼ å¹³è¡Œå›¾ä¸­æ”¾ç½®äº†VIPè·¯çº¿,å°†ä¸¤å¼ å›¾è¿æ¥èµ·æ¥,ä½†æ˜¯åªèƒ½èµ°ä¸€é.\nå› æ­¤æˆ‘ä»¬è®°å½•æœ€å°è·ç¦»disè¦è¿›æ–°æ”¹å˜å˜ä¸ºdis[0][]å’Œdis[1][],ç¬¬ä¸€ç»´çš„0,1ä»£è¡¨æ˜¯å¦ç»è¿‡äº†VIPè·¯çº¿.\næˆ‘ä»¬ä½¿ç”¨å †ä¼˜åŒ–çš„dijkstra,å› æ­¤éœ€è¦å»ºä¸€ä¸ªæœ€å°å †,å †ä¸­æ”¾posiç±»å‹,è®°å½•å¾…æ›´æ–°ç‚¹çš„å‰é©±èŠ‚ç‚¹,è¯¥èŠ‚ç‚¹,ä»æºç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„é•¿åº¦,å’Œæœ‰æ²¡æœ‰èµ°è¿‡VIP.å¯¹äºæ²¡èµ°è¿‡VIPçš„èŠ‚ç‚¹,ä»å †ä¸­å–å‡ºæ›´æ–°æ—¶å¯ä»¥èµ°æ™®é€šçš„è·¯æ›´æ–°dis[0],ä¹Ÿå¯ä»¥èµ°VIPæ›´æ–°dis[1],èµ°è¿‡VIPçš„åªèƒ½èµ°æ™®é€šè·¯,æ›´æ–°dis[1]\næˆ‘ä»¬è¿˜éœ€è¦åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦å·²ç»æœ€çŸ­äº†(ä»å †ä¸­å–å‡ºæ¥),åŒæ—¶ä¸ºäº†é¡ºä¾¿è®°å½•å‰é©±èŠ‚ç‚¹(ç”¨äºè¾“å‡ºè·¯çº¿),æˆ‘ä»¬ä½¿ç”¨preæ•°ç»„è®°å½•ä¸€ä¸ªç‚¹çš„å‰é©±èŠ‚ç‚¹,å¯¹äºèµ°è¿‡VIPçš„ç‚¹æˆ‘ä»¬ä½¿ç”¨pairæ¥è®°å½•pre2,å› ä¸ºé™¤äº†å‰é©±ç‚¹ä¹‹å¤–è¿˜éœ€è¦çŸ¥é“å‰é©±ç‚¹æ˜¯é€šè¿‡VIPè¿˜æ˜¯æ™®é€šè·¯çº¿æ¥çš„.å¦‚æœpreä¸­ä¸ä¸º0åˆ™ä»£è¡¨è¿™ä¸ªç‚¹å·²ç»è¢«èµ°è¿‡äº†,ä»å †ä¸­å–å‡ºæ—¶å°±ä¸æ“ä½œäº†.\næ­£å¸¸æƒ…å†µä¸‹ä»å †ä¸­å–å‡ºç‚¹,é¦–å…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯èµ°è¿‡VIPçš„ç‚¹,ç„¶åçœ‹çœ‹è¿™ä¸ªç‚¹æ˜¯ä¸æ˜¯å·²ç»èµ°è¿‡äº†,ç„¶åå¯¹äºæ²¡èµ°è¿‡VIPç‚¹,æ¾å¼›æ—¶ä¸€æ˜¯ä½¿ç”¨æ™®é€šçš„è·¯è¿›è¡Œæ¾å¼›,äºŒæ˜¯ä½¿ç”¨VIPè·¯è¿›è¡Œæ¾å¼›,å¯¹äºèµ°è¿‡VIPçš„ç‚¹å°±åªæ˜¯ç”¨æ™®é€šè·¯è¿›è¡Œæ¾å¼›äº†.\næœ€ç»ˆæˆ‘ä»¬èƒ½å¾—åˆ°åªèµ°æ™®é€šè·¯çš„æœ€çŸ­è·¯å’Œèµ°è¿‡ä¸€æ¬¡VIPçš„æœ€çŸ­è·¯,ç„¶åçœ‹çœ‹è¿™ä¸¤ä¸ªé‚£ä¸ªå°å°±è¾“å‡ºé‚£ä¸ª,è·¯çº¿çš„è¯åªèµ°æ™®é€šè·¯å°±ç›´æ¥è¾“å‡ºäº†,èµ°è¿‡VIPçš„è¯è¦æ³¨æ„æ˜¯ä»é‚£ä¸ªç‚¹èµ°çš„VIP,é‚£ä¸ªç‚¹ä¹‹å‰çš„è·¯çº¿è¿˜æ˜¯å¾—ç”¨åªèµ°æ™®é€šè·¯çš„è·¯çº¿.\ncode #include #include #include #include #include using namespace std; struct posi { int s,e;//å‰é©±å’Œå¾…æ›´æ–°çš„  int weight;//æºç‚¹åˆ°eçš„é•¿åº¦  int tag;// æœ‰æ²¡æœ‰èµ°è¿‡VIP  bool operator  (const posi\u0026 op) const{//é‡è½½  return weightop.weight; } }; vectorpairint,int  G[2][502];//æ™®é€šè·¯çº¿å’ŒVIPè·¯çº¿å›¾  int pre0 [502];//åªèµ°æ™®é€šè·¯çº¿çš„å‰é©±èŠ‚ç‚¹ pairint,int pre1[502];//èµ°è¿‡VIPçš„å‰é©±èŠ‚ç‚¹ int dis[2][502];//ä¸¤ä¸ªæœ€çŸ­è·¯  priority_queueposi  q;// frist int over = 0;//ç”¨VIPçš„ç‚¹  void path(int s,int e,int i,int flag)//è¾“å‡ºè·¯çº¿ { if(!flag)//flagæ˜¯æœ‰æ²¡æœ‰ä½¿ç”¨VIP  { if(i!=s)//èµ·ç‚¹  { path(s,e,pre0[i],flag);//è¾“å‡ºå‰é©±  if(i == e) printf(\"%d\",i);//ç»ˆç‚¹,ç‰¹åˆ¤æ˜¯å› ä¸ºè¾“å‡ºæ ¼å¼  else printf(\"%d \",i); } else printf(\"%d \",s);//è¾“å‡ºèµ·ç‚¹  } else//èµ°äº†VIP  { if(i!=s) { if(pre1[i].second==1)//ä»è¿™ç‚¹èµ°çš„VIP  { over = pre1[i].first;//è®¾ç½®  path(s,e,pre1[i].first,0);//è¾“å‡ºå‰é©±  } else path(s,e,pre1[i].first,1); if(i==e) printf(\"%d\",i); else printf(\"%d \",i); } else printf(\"%d \",s); } } void output(int n,int s,int e)//æ€»çš„è¾“å‡º { int flag=0,length; over = 0; if(dis[0][e]dis[1][e]) length = dis[0][e];//åªèµ°æ™®é€šè·¯  else { flag = 1;//èµ°äº†VIP  length = dis[1][e]; } path(s,e,e,flag);//è¾“å‡ºä»såˆ°eçš„è·¯çº¿,flagè¡¨ç¤ºæœ‰æ²¡æœ‰ç”¨VIP  printf(\"\\n\"); if(over == 0) printf(\"Ticket Not Used\\n\");//æ²¡ç”¨VIP  else printf(\"%d\\n\",over); printf(\"%d\\n\",length); } int main() { int n,s,e; int nextLine = 0; while(scanf(\"%d%d%d\",\u0026n,\u0026s,\u0026e)!=EOF)//è¯»åˆ°æ–‡ä»¶ç»“å°¾  { if(nextLine) printf(\"\\n\");//æ ¼å¼éœ€æ±‚,æœ€ç»ˆä¸è¾“å‡ºå›è½¦  nextLine = 1; memset(pre0,0,sizeof(pre0)); memset(pre1,0,sizeof(pre1)); memset(dis,127,sizeof(dis)); for(int j=0;j2;j++) for(int i=0;in+1;i++) G[j][i].clear(); int k,m; int x,y,z; scanf(\"%d\",\u0026m); for(int i=0;im;i++) { scanf(\"%d%d%d\",\u0026x,\u0026y,\u0026z); G[0][x].push_back(make_pair(y,z)); G[0][y].push_back(make_pair(x,z)); } scanf(\"%d\",\u0026k); for(int i=0;ik;i++) { scanf(\"%d%d%d\",\u0026x,\u0026y,\u0026z); G[1][x].push_back(make_pair(y,z)); G[1][y].push_back(make_pair(x,z)); } //ä¸Šè¿°ä¸ºæ„å»ºå›¾  dis[0][s] = 0,dis[1][s] = 0;//åˆå§‹åŒ–æºç‚¹  // pre0[s]=s,pre1[s].first=s;  q.push({s,s,0,0});//å°†èµ·ç‚¹æ”¾å…¥å †  while(!q.empty()) { posi cur = q.top(); q.pop(); if(cur.tag == 0)//æ²¡æœ‰èµ°è¿‡VIP  { if(pre0[cur.e]!=0)//å·²ç»èµ°è¿‡äº†  continue; pre0[cur.e] = cur.s;//å‰é©±  for( auto i:G[0][cur.e])//æ™®é€šå›¾  { int nxt = i.first,weight = i.second; if(dis[0][nxt] -cur.weight+weight) { dis[0][nxt] = -cur.weight+weight; q.push({cur.e,nxt,-dis[0][nxt],0}); } } for(auto i:G[1][cur.e])//VIPå›¾  { int nxt = i.first,weight = i.second; if(dis[1][nxt] -cur.weight+weight)//cur.weightæ˜¯è´Ÿæ•°  { dis[1][nxt] = -cur.weight+weight; q.push({cur.e,nxt,-dis[1][nxt],2});//è¿™é‡Œæ”¾è´Ÿçš„,å› ä¸ºstlé»˜è®¤æœ€å¤§å †,è¿™é‡Œæ”¾è¿›å»æ—¶æ ‡è®°äº†tagä¸º2ä»£è¡¨ä»è¿™ä¸ªç‚¹èµ°çš„VIP  } } } else//èµ°è¿‡äº†VIP  { if(pre1[cur.e].first != 0) continue; pre1[cur.e].first = cur.s;//å‰é©±  if(cur.tag == 2) pre1[cur.e].second = 1;//è®°å½•å‰é©±æ—¶ å‰é©±é€šè¿‡VIPåˆ°çš„cur  for(auto i:G[0][cur.e]) { int nxt = i.first,weight = i.second; if(dis[1][nxt]-cur.weight+weight) { dis[1][nxt] = -cur.weight+weight; q.push({cur.e,nxt,-dis[1][nxt],1});//tagä¸º1,ä»£è¡¨èµ°è¿‡äº†VIPä½†æ˜¯ä¸æ˜¯è¿™æ¬¡èµ°çš„VIP  } } } } output(n,s,e); } } æ€»ç»“ è¿™é“é¢˜æ¯”è¾ƒéš¾çš„åœ°æ–¹æ˜¯ä¸å¤ªå®¹æ˜“æƒ³åˆ°æ›´æ–°çš„æ¡ä»¶.\nC - TT çš„ç¾æ¢¦ é¢˜æ„ é¢˜é¢ è¿™é“é¢˜çœ‹èµ·æ¥è¿˜æ˜¯æ±‚å•æºæœ€çŸ­è·¯çš„é—®é¢˜,ä½†æ˜¯è¿™ä¸ªæ˜¯æœ‰è´Ÿè¾¹çš„è´Ÿç¯çš„æƒ…å†µ,å°±ä¸èƒ½ä½¿ç”¨Dijkstraäº†,å¿…é¡»ä½¿ç”¨BFæˆ–è€…SPFA.\nç°åœ¨æä¾›ä¸€ä¸ªå›¾å’Œä¸€ä¸ªæºç‚¹,ç„¶åæ±‚å‡ºæºç‚¹åˆ°å›¾ä¸­æ¯ä¸ªç‚¹çš„è·ç¦»,å¦‚æœä¸å­˜åœ¨æˆ–è€…è¯¥ç‚¹åœ¨è´Ÿç¯ä¸Šè¿˜æœ‰è·ç¦»å°äº3å°±è¾“å‡º?,å¦åˆ™è¾“å‡ºè·ç¦»\nè§£æ³• æœ¬é¢˜ä½¿ç”¨çš„SFPAæ¥è§£å†³,å›¾è¿˜æ˜¯ä½¿ç”¨é‚»æ¥æ•°ç»„å­˜\né¦–å…ˆæ ¹æ®é¢˜æ„å»ºç«‹å›¾,æ³¨æ„å›¾æ˜¯æœ‰å‘çš„,ç„¶åè¿˜è¦æ³¨æ„å›¾ä¸­æ˜¯æœ‰è´Ÿè¾¹çš„\nç„¶åä»æºç‚¹å¼€å§‹è·‘SFPA,ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—è®°å½•æ¯æ¬¡è¢«æˆåŠŸæ¾å¼›çš„ç‚¹,æ¯æ¬¡å–é˜Ÿåˆ—ä¸­çš„ç‚¹å¯¹è¯¥ç‚¹çš„é‚»æ¥ç‚¹è¿›è¡Œæ¾å¼›,æˆåŠŸåŠ å…¥é˜Ÿåˆ—,ç›´åˆ°é˜Ÿåˆ—ç©º,é™¤æ­¤ä¹‹å¤–å› ä¸ºæœ‰è´Ÿç¯æˆ‘ä»¬è¿˜è¦æ³¨æ„åˆ¤æ–­è´Ÿç¯,æ¡ä»¶æ˜¯ä¸€ä¸ªç‚¹è¿›å…¥é˜Ÿåˆ—çš„æ¬¡æ•°å¤§äºäº†å›¾ä¸­èŠ‚ç‚¹æ•°.\nä½†æ˜¯è¿™æ ·æˆ‘ä»¬åªèƒ½çŸ¥é“æœ‰è´Ÿç¯,ä½†æ˜¯ä¸çŸ¥é“è´Ÿç¯åœ¨é‚£é‡Œ,è¿™æ—¶ä½¿ç”¨ä¸€ä¸ªpreæ•°ç»„è®°å½•æ¯ä¸ªç‚¹çš„å‰é©±èŠ‚ç‚¹,å¦‚æœæ˜¯åœ¨ä¸€ä¸ªè´Ÿç¯ä¸­,é‚£ä¹ˆåœ¨preæ•°ç»„ä¸­ä¹Ÿå¿…ç„¶å½¢æˆä¸€ä¸ªç¯.å› æ­¤æˆ‘ä»¬é€šè¿‡dfs preæ•°ç»„å°±èƒ½åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯ä¸æ˜¯åœ¨è´Ÿç¯ä¸­.åœ¨è´Ÿç¯ä¸­çš„ç‚¹å°±è¾“å‡º\"?\"\nä¸èƒ½åˆ°è¾¾çš„ç‚¹å’Œå°äº3çš„ç‚¹éƒ½è¾“å‡º\"?\"\ncode #include #include #include #include #include  using namespace std; vectorpairint,int  G[202];//å›¾ç»“æ„ int weight[202];//æ¯ä¸ªç‚¹çš„ç¹è£ç¨‹åº¦ int dis[202];//è·ç¦» int cnt[202];//è¿›é˜Ÿæ¬¡æ•° int pre[202];//å‰é©±èŠ‚ç‚¹ int inq[202];//å…¥é˜Ÿæƒ…å†µ int power3(int t) {return t*t*t;} bool neCircle(int t,int flag)//åˆ¤æ–­æ˜¯å¦æ˜¯è´Ÿç¯ä¸­ç‚¹ { if(flag == 0)//flagç­‰äº0ä»£è¡¨æ²¡æœ‰è´Ÿç¯  return true; if(t==1)//èµ°å‡ºå»äº†,è¯¥ç‚¹ä¸åœ¨è´Ÿç¯ä¸Š  return true; if(t == flag)//è½¬å›æ¥äº†,æœ‰è´Ÿç¯  return false; return neCircle(pre[t],flag); } int main() { int t; scanf(\"%d\",\u0026t); for(int f=0;ft;f++) { memset(weight,0,sizeof(weight)); memset(dis,127,sizeof(dis)); memset(cnt,0,sizeof(cnt)); memset(inq,0,sizeof(inq)); memset(pre,0,sizeof(pre));//åˆå§‹åŒ–  int n,m,c; scanf(\"%d\",\u0026n); for(int i=0;in+1;i++)//ä» 1 å¼€å§‹  G[i].clear(); for(int i=0;in;i++) scanf(\"%d\",weight+1+i); scanf(\"%d\",\u0026m); for(int i=0;im;i++)//æœ‰å‘è¾¹  { int a,b; scanf(\"%d%d\",\u0026a,\u0026b); G[a].push_back(make_pair(b,power3(weight[b]-weight[a])));//è¾¹æƒå…¬å¼  // G[b].push_back(make_pair(a,power3(weight[a]-weight[b])));  } queuepairint,int  q;//SPFAé˜Ÿåˆ—  q.push(make_pair(1,1));//æºç‚¹,pairç¬¬ä¸€ä¸ªæ˜¯è¦è®¿é—®çš„ç‚¹,ç¬¬äºŒä¸ªæ˜¯è®¿é—®ç‚¹çš„å‰é©±  dis[1] = 0; pre[1] = 1; inq[1]=0; int flag = 0; while(!q.empty()) { pairint,int curNode =q.front(); q.pop(); int cur = curNode.first; pre[cur] = curNode.second;//è®°å½•å‰é©±  if(++cnt[cur]n)//è´Ÿç¯é€€å‡º  { flag = cur;//è®°å½•è´Ÿç¯é€€å‡ºç‚¹  break; } inq[cur] = 0;//ä¸åœ¨é˜Ÿä¸­  for(auto i:G[cur])//éå†å…¶é‚»æ¥ç‚¹  { int nxt=i.first,Wei = i.second;//ç‚¹å’Œè¾¹æƒ  if(dis[nxt]dis[cur]+Wei)//æ¾å¼›æˆåŠŸ  { dis[nxt] = dis[cur]+Wei; if(inq[nxt]== 0)//ä¸åœ¨é˜Ÿä¸­  { q.push(make_pair(nxt,cur)); inq[nxt] = 1; } } } } scanf(\"%d\",\u0026c); printf(\"Case %d:\\n\",f+1); for(int i=0;ic;i++) { int nxt; scanf(\"%d\",\u0026nxt); if(dis[nxt]10000000||dis[nxt]3)//æ— æ³•åˆ°è¾¾å’Œå¤ªçŸ­  printf(\"?\\n\"); else if(neCircle(nxt,flag))//è´Ÿç¯  printf(\"%d\\n\",dis[nxt]); else printf(\"?\\n\"); } } } æ€»ç»“ è´Ÿç¯ä¸­ç‚¹çš„åˆ¤æ–­å¯ä»¥ä½¿ç”¨å‰é©±èŠ‚ç‚¹æ¥åˆ¤æ–­,ä¸€å¼€å§‹ç¡®å®æ²¡æƒ³åˆ°,ä¹‹åå°±ç”¨è¿™ä¸ªæ–¹æ³•å»åˆ¤æ–­äº†\nè¿˜æœ‰ä¸€ä¸ªé—®é¢˜,å¦‚æœå›¾ä¸­æœ‰ä¸¤ä¸ªè´Ÿç¯æ€ä¹ˆåˆ¤æ–­,æˆ‘è¿™ä¸ªä»£ç æ²¡æœ‰è®¨è®ºä¸¤ä¸ªè´Ÿç¯çš„æƒ…å†µ,ç„¶åè¿‡äº†,ä½†æ˜¯ä¸æ˜¯å¾ˆæ˜ç™½æ€ä¹ˆåˆ¤æ–­å¤šä¸ªè´Ÿç¯,è€Œä¸”è¿™ä¸ªé¢˜ä¸­å¥½åƒä¹Ÿæ²¡æœ‰æ¶‰åŠåˆ°ä¸¤ä¸ªè´Ÿç¯çš„æƒ…å†µ\nCSPæœˆæ¨¡æ‹Ÿ 201604-3 è·¯å¾„  ä¹ æƒ¯è¯¯äºº !!!\n é¢˜æ„ é¢˜æ„å…¶å®ä¸éš¾,å°±æ˜¯çº¯æ¨¡æ‹Ÿ,æ¨¡æ‹Ÿcdçš„æ“ä½œ,è§„èŒƒä¸€ä¸ªç›®å½•\nè§£æ³• é¦–å…ˆåœ¨å°†è¯»å…¥çš„å­—ç¬¦ä¸²æŒ‰ç…§'/â€˜è¿›è¡Œåˆ†å‰²å­˜å…¥åˆ°vectorä¸­,è¯»å–ä½¿ç”¨getchar,å› ä¸ºä¼šæœ‰ç©ºçš„æƒ…å†µ,å­—ç¬¦ä¸²ä½¿ç”¨stringå­˜,å½“å­—ç¬¦ä¸²å¼€å¤´æ˜¯â€™/â€˜æ—¶,å‘å­—ç¬¦ä¸²å¤´éƒ¨åŠ ä¸€ä¸ªâ€™rootâ€™.vectoråä¸ºstrPart\nè¿™æ ·æˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªæ²¡æœ‰'/â€˜çš„å­—ç¬¦ä¸²æ•°ç»„.æˆ‘ä»¬å¼€ä¸€ä¸ªstringçš„vector curPartç”¨äºè®°å½•æœ€ç»ˆä¸å¸¦â€™/â€˜çš„è·¯å¾„. å¦‚æœæ•°ç»„å¼€å¤´æ˜¯ä¸æ˜¯â€™rootâ€™,æ˜¯ç›¸å¯¹è·¯å¾„,æˆ‘ä»¬æŠŠä¹‹å‰å¤„ç†è¿‡çš„å½“å‰è·¯å¾„(pwd)èµ‹ç»™curPart,å¦åˆ™è®©curPartä¸ºç©º,ç„¶åéå†strPart,å¯¹äº\".â€œç›´æ¥continue,å¯¹äºâ€..â€œå…ˆåˆ¤æ–­curPartå…ƒç´ ä¸ªæ•°å¤§äº1å°±pop_back,å¦åˆ™ä¸åŠ¨,å…¶ä»–çš„å°±æ˜¯çœŸæ­£çš„æ–‡ä»¶åäº†,åŠ å…¥åˆ°curPartä¸­,æœ€ç»ˆè¿”å›curPart.\né™¤æ­¤ä¹‹å¤–æˆ‘ä»¬è¿˜è¦ä¸»æ„å½“ç©ºå­—ç¬¦ä¸²çš„æ—¶å€™(å°±ä¸€ä¸ª'\\n'),ç›´æ¥è¾“å‡ºå½“å‰è·¯å¾„å°±è¡Œäº†\ncode #include #include #include #include #include #include using namespace std; string data;//æ¯æ¬¡è¯»å…¥ string pwd;//å½“å‰è·¯å¾„ vectorstring pwdPart;//å¤„ç†å®Œçš„å½“å‰è·¯å¾„  vectorstring genFileStruct(const string\u0026 originStr,int choose=0)//chooseæ˜¯ä¸ºäº†pwdå‡†,ä¸åˆ é™¤root { vectorstring strPart;//é¦–å…ˆåˆ†æ®µ  string temp; vectorstring curPart; string newStr(\"root\");//åŠ ä¸Šroot  if(originStr.size()==0||originStr[0] == '/') newStr = newStr+originStr; else newStr = originStr; for(char i:newStr)//å¼€å§‹åˆ†ç¦»å¼€æ¯ä¸ªæ–‡ä»¶(å¤¹)å .. å’Œ .  { if(i!='/') temp+=i; else { if(temp.size()0)//ä¸åŠ å…¥ç©ºå­—ç¬¦ä¸²  strPart.push_back(temp); temp.clear(); } } if(strPart[0]!=\"root\")//ä¸æ˜¯rootåˆ™ä»£è¡¨æ˜¯ç›¸å¯¹è·¯å¾„  curPart = pwdPart; for(string i:strPart) { if(i == \"..\")//å¼¹æ ˆ  { if(curPart.size()1)//ä¸èƒ½æŠŠrootå¼¹äº†  curPart.pop_back(); } else if(i==\".\") continue; else//å‹æ ˆ  curPart.push_back(i); } if (choose == 1)//ä¸åˆ root  return curPart; curPart.erase(curPart.begin());//æŠŠrootåˆ äº†,æ–¹ä¾¿è¾“å‡º  return curPart; } string readInput()//getcharè¯»å– { string temp; char c; while((c=getchar())!='\\n') temp=temp+c; return temp; } int main() { int n; cinn; getchar(); pwd = readInput(); pwdPart = genFileStruct(pwd+\"/\",1);//åŠ /æ˜¯ä¸ºäº†æ–¹ä¾¿åˆ†ç¦»  for(int t=0;tn;t++) { data.clear(); data = readInput(); vectorstring ans; if(data.size() != 0) ans = genFileStruct(data+\"/\"); else //ç©ºå­—ç¬¦ä¸²  { ans = pwdPart;//å½“å‰è·¯å¾„  ans.erase(ans.begin());//åˆ é™¤root  } if(ans.size()==0)//å…¨æ˜¯/çš„æƒ…å†µ  { cout\"/\"endl; continue; } for(string i:ans) { cout\"/\"; couti; } coutendl; } } æ€»ç»“ è¿™é“é¢˜æ¯”è¾ƒç®€å•,ä¸€å¼€å§‹å¾ˆå¿«å°±å†™å®Œäº†,ç»“æœ60åˆ†,è¯»ä¸€éé¢˜,å‘ç°æ²¡å¤„ç†ç©ºå­—ç¬¦ä¸²çš„æƒ…å†µ,åŠ ä¸Š70åˆ†,ç„¶åæµ‹äº†å¥½é•¿æ—¶é—´ä¸çŸ¥é“åŸå› .åæ¥åœ¨è¯»ä¸€è¾¹é¢˜\nåªè¦æ˜¯ä¸ä»¥'/â€˜å¼€å¤´çš„éƒ½æ˜¯ç›¸å¯¹è·¯å¾„,å› æ­¤ä¸ç”¨è¾“./ä¹Ÿæ˜¯ä»å½“å‰è·¯å¾„å¼€å§‹çš„,ä¹‹å‰æ•²å‘½ä»¤ä¹ æƒ¯æ€§æŒ‰table,è¡¥å…¨çš„å…¨æ˜¯å¸¦./çš„,å®Œå…¨æ²¡æœ‰æ„è¯†åˆ°ä¼šæœ‰ä¸å¸¦./çš„æƒ…å†µğŸ˜­ç„¶åæ”¹äº†ä¸€ä¸‹åˆ¤æ–­æ¡ä»¶å°±è¿‡äº†\n",
  "wordCount" : "727",
  "inLanguage": "en",
  "datePublished": "2020-04-13T22:55:21Z",
  "dateModified": "2020-04-13T22:55:21Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://xyfuture.github.io/posts/program-week7-homework/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "My New Hugo Site",
    "logo": {
      "@type": "ImageObject",
      "url": "https://xyfuture.github.io/favicon.ico"
    }
  }
}
</script>



</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        .theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://xyfuture.github.io/" accesskey="h" title="My New Hugo Site (Alt + H)">My New Hugo Site</a>
            <span class="logo-switches">
                <span class="theme-toggle" title="(Alt + T)">
                    <a id="theme-toggle" accesskey="t">
                        <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </a>
                </span>
                
            </span>
        </div>
        <ul class="menu" id="menu" onscroll="menu_on_scroll()"></ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">
      Program_week7_homework
    </h1>
    <div class="post-description">
      
    </div>
    <div class="post-meta">April 13, 2020

    </div>
  </header> 

  <div class="post-content">
<h1 id="week7-homework">week7-homework<a hidden class="anchor" aria-hidden="true" href="#week7-homework">#</a></h1>
<h2 id="a---tt-çš„é­”æ³•çŒ«">A - TT çš„é­”æ³•çŒ«<a hidden class="anchor" aria-hidden="true" href="#a---tt-çš„é­”æ³•çŒ«">#</a></h2>
<h3 id="é¢˜æ„">é¢˜æ„<a hidden class="anchor" aria-hidden="true" href="#é¢˜æ„">#</a></h3>
<h4 id="é¢˜é¢">é¢˜é¢<a hidden class="anchor" aria-hidden="true" href="#é¢˜é¢">#</a></h4>
<p><img src="https://i.loli.net/2020/04/13/f5x2hgARbe7BKrE.png" alt=""></p>
<p>è¿™é“é¢˜å°±æ˜¯æ±‚ä¸€ä¸ªä¼ é€’é—­åŒ…,é¢˜ç›®ä¸­ç»™å‡ºèƒœè´Ÿå…³ç³»å¯ä»¥çœ‹æˆä¸€å¯¹åºå¶,ç›¸äº’ä¹‹é—´å…·æœ‰ä¼ é€’å…³ç³»,ç»™å‡ºåŸºæœ¬çš„å‡ ä¸ªåºå¶,ç„¶åè®©æ±‚å–æ”¹é›†åˆçš„ä¼ é€’é—­åŒ…,ç„¶åçœ‹çœ‹é—­åŒ…ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ </p>
<h3 id="è§£æ³•">è§£æ³•<a hidden class="anchor" aria-hidden="true" href="#è§£æ³•">#</a></h3>
<p>é¦–å…ˆæˆ‘ä»¬æŠŠè¿™ä¸ªè¾“èµ¢å…³ç³»å»ºæˆå›¾,ä½¿ç”¨äºŒç»´çŸ©é˜µç›´æ¥å­˜å‚¨è¿™ä¸ªå›¾,Nä¸ªäººä»£è¡¨çŸ©é˜µå¤§å°æ˜¯N*N,Mä¸ªå…³ç³»åˆ™ä»£è¡¨å›¾ä¸­æœ‰Mæ¡è¾¹,A B,ä»£è¡¨Aèµ¢è¿‡B,å»ºç«‹ä¸€æ¡Aåˆ°Bçš„è¾¹,å¦‚æœBèƒ½åˆ°Cåˆ™ä¹Ÿæœ‰Aåˆ°Cçš„è¾¹</p>
<p>å°†å›¾æŒ‰ç…§ç»™å®šçš„å…ƒç´ åˆå§‹åŒ–åæˆ‘ä»¬å¯¹è¿™å¼ å›¾è·‘floyd-warshall.ä¸è¿‡è¦æŠŠæ¾å¼›æ¡ä»¶æ”¹ä¸€ä¸‹,ä¸æ˜¯æœ€çŸ­è·¯å¾„äº†,è€Œæ˜¯åªè¦èƒ½åˆ°è¾¾åˆ™å°†æ•°ç»„ä¸­å¯¹åº”çš„ä½ç½®æ”¹ä¸º1.</p>
<p>æ³¨æ„åœ¨è¿™ç§æƒ…å†µä¸‹èƒ½å¤Ÿè¿›è¡Œå‰ªæ,å¦‚æœåœ¨åˆ¤æ–­iç»è¿‡jèƒ½èƒ½ä¸èƒ½åˆ°è¾¾æ–°èŠ‚ç‚¹æ—¶,è‹¥iç›´æ¥ä¸èƒ½åˆ°è¾¾j,åˆ™è·³è¿‡.ç»è¿‡å‰ªæåæ—¶é—´å¤æ‚åº¦ä¼šé™ä½ä¸å°‘.</p>
<p>æœ€åè®¡ç®—æœªçŸ¥çš„æ•°é‡,é¦–å…ˆä½¿ç”¨ç»„åˆçš„çŸ¥è¯†è®¡ç®—å‡ºå¤šå°‘åœºæ¯”èµ›$C^2_n$,å‡å»çŸ©é˜µä¸­1çš„æ•°é‡,è¿™æ ·å°±èƒ½å¾—åˆ°æœªçŸ¥çš„åœºæ•°</p>
<h3 id="code">code<a hidden class="anchor" aria-hidden="true" href="#code">#</a></h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstring&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#75715e">// vector&lt;int&gt; G[502];
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> G[<span style="color:#ae81ff">502</span>][<span style="color:#ae81ff">502</span>];<span style="color:#75715e">//äºŒç»´çŸ©é˜µ
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> cnt;
    scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>cnt);
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>cnt;i<span style="color:#f92672">++</span>)
    {
        <span style="color:#66d9ef">int</span> n,m;
        scanf(<span style="color:#e6db74">&#34;%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>n,<span style="color:#f92672">&amp;</span>m);
        memset(G,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(G));<span style="color:#75715e">//åˆå§‹åŒ–
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>m;j<span style="color:#f92672">++</span>)
        {
            <span style="color:#66d9ef">int</span> a,b;
            scanf(<span style="color:#e6db74">&#34;%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b);
            G[a][b] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;<span style="color:#75715e">//Aèµ¢B,A-&gt;Bçš„è·¯   
</span><span style="color:#75715e"></span>        }
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> k<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;k<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;k<span style="color:#f92672">++</span>)<span style="color:#75715e">//ç»è¿‡ç¬¬kä¸ª
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> t<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;t<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;t<span style="color:#f92672">++</span>)
                <span style="color:#66d9ef">if</span>(G[t][k]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)<span style="color:#75715e">//å‰ªæ,ä¸èƒ½åˆ°è¾¾å°±ä¸ç»§ç»­äº†,æ­£å¸¸floydä¹Ÿå¯ä»¥æœ‰
</span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> e<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;e<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;e<span style="color:#f92672">++</span>)
                        <span style="color:#66d9ef">if</span>(G[k][e]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)<span style="color:#75715e">//æ›´æ–°,å¯èƒ½ä¼šé‡å¤,ä½†ä¸å½±å“æ­£ç¡®
</span><span style="color:#75715e"></span>                            G[t][e] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">int</span> ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> p<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;p<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;p<span style="color:#f92672">++</span>)
            <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> q<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;q<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;q<span style="color:#f92672">++</span>)
                <span style="color:#66d9ef">if</span>(G[p][q] <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>)
                    ans<span style="color:#f92672">++</span>;<span style="color:#75715e">//ç»Ÿè®¡å·²çŸ¥åœºæ•°
</span><span style="color:#75715e"></span>        ans <span style="color:#f92672">=</span> ((n<span style="color:#f92672">*</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>))<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span> ) <span style="color:#f92672">-</span> ans;
        printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ans);
    }
}
</code></pre></div><h3 id="æ€»ç»“">æ€»ç»“<a hidden class="anchor" aria-hidden="true" href="#æ€»ç»“">#</a></h3>
<p>è¿™é“é¢˜ä¸€å¼€å§‹äº¤çš„æ—¶å€™æ²¡æœ‰è€ƒè™‘å‰ªæçš„æƒ…å†µ(è™½ç„¶ä¸Šè¯¾è®²äº†),ç„¶åå°±Täº†,åæ¥æƒ³èµ·æ¥å¯ä»¥å‰ªæé™ä½å¤æ‚åº¦,å°±åŠ äº†å‰ªæ,ç„¶åå°±è¿‡äº†,ä»¥åè¿˜æ˜¯è¦å†™å¸¦å‰ªæçš„floyd.</p>
<h2 id="b---tt-çš„æ—…è¡Œæ—¥è®°httpsvjudgenetproblemuva-11374"><a href="https://vjudge.net/problem/UVA-11374">B - TT çš„æ—…è¡Œæ—¥è®°</a><a hidden class="anchor" aria-hidden="true" href="#b---tt-çš„æ—…è¡Œæ—¥è®°httpsvjudgenetproblemuva-11374">#</a></h2>
<h3 id="é¢˜æ„-1">é¢˜æ„<a hidden class="anchor" aria-hidden="true" href="#é¢˜æ„-1">#</a></h3>
<h4 id="é¢˜é¢-1">é¢˜é¢<a hidden class="anchor" aria-hidden="true" href="#é¢˜é¢-1">#</a></h4>
<p><img src="https://i.loli.net/2020/04/13/sQGrTYqmtDAE7wS.png" alt=""></p>
<p>è¿™é“é¢˜æ˜¯æƒ³è¯´ç°åœ¨æœ‰ä¸€å¼ æ™®é€šè½¦çš„å›¾,ç„¶åæˆ‘ä»¬æŠŠå®ƒæƒ³æˆä¸¤å¼ ä¸Šä¸‹å¹³è¡Œçš„å›¾,åœ¨è¿™ä¸¤å¼ å›¾ä¹‹é—´åœ¨æ„å»ºä¸€ä¸ªå›¾,æ–°çš„å›¾å°±æ˜¯VIPè·¯çº¿,VIPç›¸å½“äºæŠŠä¸¤å¼ å›¾è¿æ¥èµ·æ¥äº†,ä½†æ˜¯VIPè·¯çº¿åªèƒ½èµ°ä¸€æ¬¡,ä»ä¸Šé¢çš„å›¾ä¸‹æ¥å°±æ²¡æ³•ä¸Šå»äº†,ä½†æ˜¯å¯ä»¥é€‰æ‹©ä¸ä¸‹å»,ä¸€ç›´èµ°ä¸Šé¢é‚£å¼ å›¾.</p>
<p>æœ€ç»ˆæ±‚ä»èµ·ç‚¹å¼€å§‹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦å’Œè·¯çº¿,åªå…è®¸èµ°ä¸€æ¬¡VIP</p>
<h3 id="è§£æ³•-1">è§£æ³•<a hidden class="anchor" aria-hidden="true" href="#è§£æ³•-1">#</a></h3>
<p>ä½¿ç”¨å˜å½¢çš„å †ä¼˜Dijkstraæ¥è§£,å›¾ä½¿ç”¨é‚»æ¥é“¾è¡¨(vectorå…¶å®æ˜¯é‚»æ¥æ•°ç»„).</p>
<p>é¦–å…ˆæˆ‘ä»¬å·²ç»çŸ¥é“å›¾çš„ç»“æ„,ä¸¤å¼ ä¸€æ ·çš„å›¾ä¸Šä¸‹å¹³è¡Œæ”¾ç½®,ç„¶åä¸¤å¼ å¹³è¡Œå›¾ä¸­æ”¾ç½®äº†VIPè·¯çº¿,å°†ä¸¤å¼ å›¾è¿æ¥èµ·æ¥,ä½†æ˜¯åªèƒ½èµ°ä¸€é.</p>
<p>å› æ­¤æˆ‘ä»¬è®°å½•æœ€å°è·ç¦»disè¦è¿›æ–°æ”¹å˜å˜ä¸ºdis[0][]å’Œdis[1][],ç¬¬ä¸€ç»´çš„0,1ä»£è¡¨æ˜¯å¦ç»è¿‡äº†VIPè·¯çº¿.</p>
<p>æˆ‘ä»¬ä½¿ç”¨å †ä¼˜åŒ–çš„dijkstra,å› æ­¤éœ€è¦å»ºä¸€ä¸ªæœ€å°å †,å †ä¸­æ”¾posiç±»å‹,è®°å½•å¾…æ›´æ–°ç‚¹çš„å‰é©±èŠ‚ç‚¹,è¯¥èŠ‚ç‚¹,ä»æºç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„é•¿åº¦,å’Œæœ‰æ²¡æœ‰èµ°è¿‡VIP.å¯¹äºæ²¡èµ°è¿‡VIPçš„èŠ‚ç‚¹,ä»å †ä¸­å–å‡ºæ›´æ–°æ—¶å¯ä»¥èµ°æ™®é€šçš„è·¯æ›´æ–°dis[0],ä¹Ÿå¯ä»¥èµ°VIPæ›´æ–°dis[1],èµ°è¿‡VIPçš„åªèƒ½èµ°æ™®é€šè·¯,æ›´æ–°dis[1]</p>
<p>æˆ‘ä»¬è¿˜éœ€è¦åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦å·²ç»æœ€çŸ­äº†(ä»å †ä¸­å–å‡ºæ¥),åŒæ—¶ä¸ºäº†é¡ºä¾¿è®°å½•å‰é©±èŠ‚ç‚¹(ç”¨äºè¾“å‡ºè·¯çº¿),æˆ‘ä»¬ä½¿ç”¨preæ•°ç»„è®°å½•ä¸€ä¸ªç‚¹çš„å‰é©±èŠ‚ç‚¹,å¯¹äºèµ°è¿‡VIPçš„ç‚¹æˆ‘ä»¬ä½¿ç”¨pair&lt;int,int&gt;æ¥è®°å½•pre2,å› ä¸ºé™¤äº†å‰é©±ç‚¹ä¹‹å¤–è¿˜éœ€è¦çŸ¥é“å‰é©±ç‚¹æ˜¯é€šè¿‡VIPè¿˜æ˜¯æ™®é€šè·¯çº¿æ¥çš„.å¦‚æœpreä¸­ä¸ä¸º0åˆ™ä»£è¡¨è¿™ä¸ªç‚¹å·²ç»è¢«èµ°è¿‡äº†,ä»å †ä¸­å–å‡ºæ—¶å°±ä¸æ“ä½œäº†.</p>
<p>æ­£å¸¸æƒ…å†µä¸‹ä»å †ä¸­å–å‡ºç‚¹,é¦–å…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯èµ°è¿‡VIPçš„ç‚¹,ç„¶åçœ‹çœ‹è¿™ä¸ªç‚¹æ˜¯ä¸æ˜¯å·²ç»èµ°è¿‡äº†,ç„¶åå¯¹äºæ²¡èµ°è¿‡VIPç‚¹,æ¾å¼›æ—¶ä¸€æ˜¯ä½¿ç”¨æ™®é€šçš„è·¯è¿›è¡Œæ¾å¼›,äºŒæ˜¯ä½¿ç”¨VIPè·¯è¿›è¡Œæ¾å¼›,å¯¹äºèµ°è¿‡VIPçš„ç‚¹å°±åªæ˜¯ç”¨æ™®é€šè·¯è¿›è¡Œæ¾å¼›äº†.</p>
<p>æœ€ç»ˆæˆ‘ä»¬èƒ½å¾—åˆ°åªèµ°æ™®é€šè·¯çš„æœ€çŸ­è·¯å’Œèµ°è¿‡ä¸€æ¬¡VIPçš„æœ€çŸ­è·¯,ç„¶åçœ‹çœ‹è¿™ä¸¤ä¸ªé‚£ä¸ªå°å°±è¾“å‡ºé‚£ä¸ª,è·¯çº¿çš„è¯åªèµ°æ™®é€šè·¯å°±ç›´æ¥è¾“å‡ºäº†,èµ°è¿‡VIPçš„è¯è¦æ³¨æ„æ˜¯ä»é‚£ä¸ªç‚¹èµ°çš„VIP,é‚£ä¸ªç‚¹ä¹‹å‰çš„è·¯çº¿è¿˜æ˜¯å¾—ç”¨åªèµ°æ™®é€šè·¯çš„è·¯çº¿.</p>
<h3 id="code-1">code<a hidden class="anchor" aria-hidden="true" href="#code-1">#</a></h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;queue&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstring&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">posi</span>
{   
    <span style="color:#66d9ef">int</span> s,e;<span style="color:#75715e">//å‰é©±å’Œå¾…æ›´æ–°çš„
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> weight;<span style="color:#75715e">//æºç‚¹åˆ°eçš„é•¿åº¦
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> tag;<span style="color:#75715e">// æœ‰æ²¡æœ‰èµ°è¿‡VIP
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;</span> (<span style="color:#66d9ef">const</span> posi<span style="color:#f92672">&amp;</span> op) <span style="color:#66d9ef">const</span>{<span style="color:#75715e">//é‡è½½
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> weight<span style="color:#f92672">&lt;</span>op.weight;
    }
};


vector<span style="color:#f92672">&lt;</span>pair<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>,<span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">&gt;</span> G[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">502</span>];<span style="color:#75715e">//æ™®é€šè·¯çº¿å’ŒVIPè·¯çº¿å›¾
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> pre0 [<span style="color:#ae81ff">502</span>];<span style="color:#75715e">//åªèµ°æ™®é€šè·¯çº¿çš„å‰é©±èŠ‚ç‚¹
</span><span style="color:#75715e"></span>pair<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>,<span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> pre1[<span style="color:#ae81ff">502</span>];<span style="color:#75715e">//èµ°è¿‡VIPçš„å‰é©±èŠ‚ç‚¹
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> dis[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">502</span>];<span style="color:#75715e">//ä¸¤ä¸ªæœ€çŸ­è·¯
</span><span style="color:#75715e"></span>
priority_queue<span style="color:#f92672">&lt;</span>posi <span style="color:#f92672">&gt;</span> q;<span style="color:#75715e">// frist 
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> over <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//ç”¨VIPçš„ç‚¹
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">path</span>(<span style="color:#66d9ef">int</span> s,<span style="color:#66d9ef">int</span> e,<span style="color:#66d9ef">int</span> i,<span style="color:#66d9ef">int</span> flag)<span style="color:#75715e">//è¾“å‡ºè·¯çº¿
</span><span style="color:#75715e"></span>{
    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>flag)<span style="color:#75715e">//flagæ˜¯æœ‰æ²¡æœ‰ä½¿ç”¨VIP
</span><span style="color:#75715e"></span>    {
        <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">!=</span>s)<span style="color:#75715e">//èµ·ç‚¹
</span><span style="color:#75715e"></span>        {
            path(s,e,pre0[i],flag);<span style="color:#75715e">//è¾“å‡ºå‰é©±
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span>(i <span style="color:#f92672">==</span> e) printf(<span style="color:#e6db74">&#34;%d&#34;</span>,i);<span style="color:#75715e">//ç»ˆç‚¹,ç‰¹åˆ¤æ˜¯å› ä¸ºè¾“å‡ºæ ¼å¼
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">else</span> printf(<span style="color:#e6db74">&#34;%d &#34;</span>,i);
        }
        <span style="color:#66d9ef">else</span>
            printf(<span style="color:#e6db74">&#34;%d &#34;</span>,s);<span style="color:#75715e">//è¾“å‡ºèµ·ç‚¹
</span><span style="color:#75715e"></span>    }
    <span style="color:#66d9ef">else</span><span style="color:#75715e">//èµ°äº†VIP
</span><span style="color:#75715e"></span>    {
        <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">!=</span>s)
        {
            <span style="color:#66d9ef">if</span>(pre1[i].second<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)<span style="color:#75715e">//ä»è¿™ç‚¹èµ°çš„VIP
</span><span style="color:#75715e"></span>            {
                over <span style="color:#f92672">=</span> pre1[i].first;<span style="color:#75715e">//è®¾ç½®
</span><span style="color:#75715e"></span>                path(s,e,pre1[i].first,<span style="color:#ae81ff">0</span>);<span style="color:#75715e">//è¾“å‡ºå‰é©±
</span><span style="color:#75715e"></span>            }
            <span style="color:#66d9ef">else</span>
                path(s,e,pre1[i].first,<span style="color:#ae81ff">1</span>);
            <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">==</span>e) printf(<span style="color:#e6db74">&#34;%d&#34;</span>,i);
            <span style="color:#66d9ef">else</span> printf(<span style="color:#e6db74">&#34;%d &#34;</span>,i);
        }
        <span style="color:#66d9ef">else</span>
            printf(<span style="color:#e6db74">&#34;%d &#34;</span>,s);
    }

}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">output</span>(<span style="color:#66d9ef">int</span> n,<span style="color:#66d9ef">int</span> s,<span style="color:#66d9ef">int</span> e)<span style="color:#75715e">//æ€»çš„è¾“å‡º
</span><span style="color:#75715e"></span>{
    <span style="color:#66d9ef">int</span> flag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,length;
    over <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">if</span>(dis[<span style="color:#ae81ff">0</span>][e]<span style="color:#f92672">&lt;</span>dis[<span style="color:#ae81ff">1</span>][e])
        length <span style="color:#f92672">=</span> dis[<span style="color:#ae81ff">0</span>][e];<span style="color:#75715e">//åªèµ°æ™®é€šè·¯
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">else</span>
    {
        flag <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;<span style="color:#75715e">//èµ°äº†VIP
</span><span style="color:#75715e"></span>        length <span style="color:#f92672">=</span> dis[<span style="color:#ae81ff">1</span>][e];
    }
    path(s,e,e,flag);<span style="color:#75715e">//è¾“å‡ºä»såˆ°eçš„è·¯çº¿,flagè¡¨ç¤ºæœ‰æ²¡æœ‰ç”¨VIP
</span><span style="color:#75715e"></span>    printf(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
    <span style="color:#66d9ef">if</span>(over <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) printf(<span style="color:#e6db74">&#34;Ticket Not Used</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);<span style="color:#75715e">//æ²¡ç”¨VIP
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">else</span> printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,over);
    printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,length);
}


<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> n,s,e;
    <span style="color:#66d9ef">int</span> nextLine <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">while</span>(scanf(<span style="color:#e6db74">&#34;%d%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>n,<span style="color:#f92672">&amp;</span>s,<span style="color:#f92672">&amp;</span>e)<span style="color:#f92672">!=</span>EOF)<span style="color:#75715e">//è¯»åˆ°æ–‡ä»¶ç»“å°¾
</span><span style="color:#75715e"></span>    {
        <span style="color:#66d9ef">if</span>(nextLine) printf(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);<span style="color:#75715e">//æ ¼å¼éœ€æ±‚,æœ€ç»ˆä¸è¾“å‡ºå›è½¦
</span><span style="color:#75715e"></span>        nextLine <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
        memset(pre0,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(pre0));
        memset(pre1,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(pre1));
        memset(dis,<span style="color:#ae81ff">127</span>,<span style="color:#66d9ef">sizeof</span>(dis));
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span>;j<span style="color:#f92672">++</span>)
            <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">++</span>)
                G[j][i].clear();
        <span style="color:#66d9ef">int</span> k,m;
        <span style="color:#66d9ef">int</span> x,y,z;
        scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>m);
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>m;i<span style="color:#f92672">++</span>)
        {
            scanf(<span style="color:#e6db74">&#34;%d%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>x,<span style="color:#f92672">&amp;</span>y,<span style="color:#f92672">&amp;</span>z);
            G[<span style="color:#ae81ff">0</span>][x].push_back(make_pair(y,z));
            G[<span style="color:#ae81ff">0</span>][y].push_back(make_pair(x,z));
        }
        scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>k);
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>k;i<span style="color:#f92672">++</span>)
        {
            scanf(<span style="color:#e6db74">&#34;%d%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>x,<span style="color:#f92672">&amp;</span>y,<span style="color:#f92672">&amp;</span>z);
            G[<span style="color:#ae81ff">1</span>][x].push_back(make_pair(y,z));
            G[<span style="color:#ae81ff">1</span>][y].push_back(make_pair(x,z));
        }
        <span style="color:#75715e">//ä¸Šè¿°ä¸ºæ„å»ºå›¾
</span><span style="color:#75715e"></span>        dis[<span style="color:#ae81ff">0</span>][s] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,dis[<span style="color:#ae81ff">1</span>][s] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//åˆå§‹åŒ–æºç‚¹
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// pre0[s]=s,pre1[s].first=s;
</span><span style="color:#75715e"></span>        q.push({s,s,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>});<span style="color:#75715e">//å°†èµ·ç‚¹æ”¾å…¥å †
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span>(<span style="color:#f92672">!</span>q.empty())
        {
            posi cur <span style="color:#f92672">=</span> q.top();
            q.pop();
            <span style="color:#66d9ef">if</span>(cur.tag <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)<span style="color:#75715e">//æ²¡æœ‰èµ°è¿‡VIP
</span><span style="color:#75715e"></span>            {
                <span style="color:#66d9ef">if</span>(pre0[cur.e]<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>)<span style="color:#75715e">//å·²ç»èµ°è¿‡äº†
</span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">continue</span>;
                pre0[cur.e] <span style="color:#f92672">=</span> cur.s;<span style="color:#75715e">//å‰é©±
</span><span style="color:#75715e"></span>                
                <span style="color:#66d9ef">for</span>( <span style="color:#66d9ef">auto</span> i:G[<span style="color:#ae81ff">0</span>][cur.e])<span style="color:#75715e">//æ™®é€šå›¾
</span><span style="color:#75715e"></span>                {
                    <span style="color:#66d9ef">int</span> nxt <span style="color:#f92672">=</span> i.first,weight <span style="color:#f92672">=</span> i.second;
                    <span style="color:#66d9ef">if</span>(dis[<span style="color:#ae81ff">0</span>][nxt]<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>cur.weight<span style="color:#f92672">+</span>weight)
                    {
                        dis[<span style="color:#ae81ff">0</span>][nxt] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>cur.weight<span style="color:#f92672">+</span>weight;
                        q.push({cur.e,nxt,<span style="color:#f92672">-</span>dis[<span style="color:#ae81ff">0</span>][nxt],<span style="color:#ae81ff">0</span>});
                    }
                }
                <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">auto</span> i:G[<span style="color:#ae81ff">1</span>][cur.e])<span style="color:#75715e">//VIPå›¾
</span><span style="color:#75715e"></span>                {
                    <span style="color:#66d9ef">int</span> nxt <span style="color:#f92672">=</span> i.first,weight <span style="color:#f92672">=</span> i.second;
                    <span style="color:#66d9ef">if</span>(dis[<span style="color:#ae81ff">1</span>][nxt]<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>cur.weight<span style="color:#f92672">+</span>weight)<span style="color:#75715e">//cur.weightæ˜¯è´Ÿæ•°
</span><span style="color:#75715e"></span>                    {
                        dis[<span style="color:#ae81ff">1</span>][nxt] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>cur.weight<span style="color:#f92672">+</span>weight;
                        q.push({cur.e,nxt,<span style="color:#f92672">-</span>dis[<span style="color:#ae81ff">1</span>][nxt],<span style="color:#ae81ff">2</span>});<span style="color:#75715e">//è¿™é‡Œæ”¾è´Ÿçš„,å› ä¸ºstlé»˜è®¤æœ€å¤§å †,è¿™é‡Œæ”¾è¿›å»æ—¶æ ‡è®°äº†tagä¸º2ä»£è¡¨ä»è¿™ä¸ªç‚¹èµ°çš„VIP
</span><span style="color:#75715e"></span>                    }
                }
            }
            <span style="color:#66d9ef">else</span><span style="color:#75715e">//èµ°è¿‡äº†VIP
</span><span style="color:#75715e"></span>            {
                <span style="color:#66d9ef">if</span>(pre1[cur.e].first <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>)
                    <span style="color:#66d9ef">continue</span>;
                pre1[cur.e].first <span style="color:#f92672">=</span> cur.s;<span style="color:#75715e">//å‰é©±
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span>(cur.tag <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>) pre1[cur.e].second <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;<span style="color:#75715e">//è®°å½•å‰é©±æ—¶ å‰é©±é€šè¿‡VIPåˆ°çš„cur
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">auto</span> i:G[<span style="color:#ae81ff">0</span>][cur.e])
                {
                    <span style="color:#66d9ef">int</span> nxt <span style="color:#f92672">=</span> i.first,weight <span style="color:#f92672">=</span> i.second;
                    <span style="color:#66d9ef">if</span>(dis[<span style="color:#ae81ff">1</span>][nxt]<span style="color:#f92672">&gt;-</span>cur.weight<span style="color:#f92672">+</span>weight)
                    {
                        dis[<span style="color:#ae81ff">1</span>][nxt] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>cur.weight<span style="color:#f92672">+</span>weight;
                        q.push({cur.e,nxt,<span style="color:#f92672">-</span>dis[<span style="color:#ae81ff">1</span>][nxt],<span style="color:#ae81ff">1</span>});<span style="color:#75715e">//tagä¸º1,ä»£è¡¨èµ°è¿‡äº†VIPä½†æ˜¯ä¸æ˜¯è¿™æ¬¡èµ°çš„VIP
</span><span style="color:#75715e"></span>                    }
                }
            }
        }
        output(n,s,e);
    }
}
</code></pre></div><h3 id="æ€»ç»“-1">æ€»ç»“<a hidden class="anchor" aria-hidden="true" href="#æ€»ç»“-1">#</a></h3>
<p>è¿™é“é¢˜æ¯”è¾ƒéš¾çš„åœ°æ–¹æ˜¯ä¸å¤ªå®¹æ˜“æƒ³åˆ°æ›´æ–°çš„æ¡ä»¶.</p>
<h2 id="c---tt-çš„ç¾æ¢¦httpsvjudgenetproblemlightoj-1074"><a href="https://vjudge.net/problem/LightOJ-1074">C - TT çš„ç¾æ¢¦</a><a hidden class="anchor" aria-hidden="true" href="#c---tt-çš„ç¾æ¢¦httpsvjudgenetproblemlightoj-1074">#</a></h2>
<h3 id="é¢˜æ„-2">é¢˜æ„<a hidden class="anchor" aria-hidden="true" href="#é¢˜æ„-2">#</a></h3>
<h4 id="é¢˜é¢-2">é¢˜é¢<a hidden class="anchor" aria-hidden="true" href="#é¢˜é¢-2">#</a></h4>
<p><img src="https://i.loli.net/2020/04/13/3BSXJC6xrT7hZeG.png" alt=""></p>
<p>è¿™é“é¢˜çœ‹èµ·æ¥è¿˜æ˜¯æ±‚å•æºæœ€çŸ­è·¯çš„é—®é¢˜,ä½†æ˜¯è¿™ä¸ªæ˜¯æœ‰è´Ÿè¾¹çš„è´Ÿç¯çš„æƒ…å†µ,å°±ä¸èƒ½ä½¿ç”¨Dijkstraäº†,å¿…é¡»ä½¿ç”¨BFæˆ–è€…SPFA.</p>
<p>ç°åœ¨æä¾›ä¸€ä¸ªå›¾å’Œä¸€ä¸ªæºç‚¹,ç„¶åæ±‚å‡ºæºç‚¹åˆ°å›¾ä¸­æ¯ä¸ªç‚¹çš„è·ç¦»,å¦‚æœä¸å­˜åœ¨æˆ–è€…è¯¥ç‚¹åœ¨è´Ÿç¯ä¸Šè¿˜æœ‰è·ç¦»å°äº3å°±è¾“å‡º?,å¦åˆ™è¾“å‡ºè·ç¦»</p>
<h3 id="è§£æ³•-2">è§£æ³•<a hidden class="anchor" aria-hidden="true" href="#è§£æ³•-2">#</a></h3>
<p>æœ¬é¢˜ä½¿ç”¨çš„SFPAæ¥è§£å†³,å›¾è¿˜æ˜¯ä½¿ç”¨é‚»æ¥æ•°ç»„å­˜</p>
<p>é¦–å…ˆæ ¹æ®é¢˜æ„å»ºç«‹å›¾,æ³¨æ„å›¾æ˜¯æœ‰å‘çš„,ç„¶åè¿˜è¦æ³¨æ„å›¾ä¸­æ˜¯æœ‰è´Ÿè¾¹çš„</p>
<p>ç„¶åä»æºç‚¹å¼€å§‹è·‘SFPA,ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—è®°å½•æ¯æ¬¡è¢«æˆåŠŸæ¾å¼›çš„ç‚¹,æ¯æ¬¡å–é˜Ÿåˆ—ä¸­çš„ç‚¹å¯¹è¯¥ç‚¹çš„é‚»æ¥ç‚¹è¿›è¡Œæ¾å¼›,æˆåŠŸåŠ å…¥é˜Ÿåˆ—,ç›´åˆ°é˜Ÿåˆ—ç©º,é™¤æ­¤ä¹‹å¤–å› ä¸ºæœ‰è´Ÿç¯æˆ‘ä»¬è¿˜è¦æ³¨æ„åˆ¤æ–­è´Ÿç¯,æ¡ä»¶æ˜¯ä¸€ä¸ªç‚¹è¿›å…¥é˜Ÿåˆ—çš„æ¬¡æ•°å¤§äºäº†å›¾ä¸­èŠ‚ç‚¹æ•°.</p>
<p>ä½†æ˜¯è¿™æ ·æˆ‘ä»¬åªèƒ½çŸ¥é“æœ‰è´Ÿç¯,ä½†æ˜¯ä¸çŸ¥é“è´Ÿç¯åœ¨é‚£é‡Œ,è¿™æ—¶ä½¿ç”¨ä¸€ä¸ªpreæ•°ç»„è®°å½•æ¯ä¸ªç‚¹çš„å‰é©±èŠ‚ç‚¹,å¦‚æœæ˜¯åœ¨ä¸€ä¸ªè´Ÿç¯ä¸­,é‚£ä¹ˆåœ¨preæ•°ç»„ä¸­ä¹Ÿå¿…ç„¶å½¢æˆä¸€ä¸ªç¯.å› æ­¤æˆ‘ä»¬é€šè¿‡dfs preæ•°ç»„å°±èƒ½åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯ä¸æ˜¯åœ¨è´Ÿç¯ä¸­.åœ¨è´Ÿç¯ä¸­çš„ç‚¹å°±è¾“å‡º&quot;?&quot;</p>
<p>ä¸èƒ½åˆ°è¾¾çš„ç‚¹å’Œå°äº3çš„ç‚¹éƒ½è¾“å‡º&quot;?&quot;</p>
<h3 id="code-2">code<a hidden class="anchor" aria-hidden="true" href="#code-2">#</a></h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstring&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;queue&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
vector<span style="color:#f92672">&lt;</span>pair<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>,<span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">&gt;</span> G[<span style="color:#ae81ff">202</span>];<span style="color:#75715e">//å›¾ç»“æ„
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> weight[<span style="color:#ae81ff">202</span>];<span style="color:#75715e">//æ¯ä¸ªç‚¹çš„ç¹è£ç¨‹åº¦
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> dis[<span style="color:#ae81ff">202</span>];<span style="color:#75715e">//è·ç¦»
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> cnt[<span style="color:#ae81ff">202</span>];<span style="color:#75715e">//è¿›é˜Ÿæ¬¡æ•°
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> pre[<span style="color:#ae81ff">202</span>];<span style="color:#75715e">//å‰é©±èŠ‚ç‚¹
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> inq[<span style="color:#ae81ff">202</span>];<span style="color:#75715e">//å…¥é˜Ÿæƒ…å†µ
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">power3</span>(<span style="color:#66d9ef">int</span> t) {<span style="color:#66d9ef">return</span> t<span style="color:#f92672">*</span>t<span style="color:#f92672">*</span>t;}
<span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">neCircle</span>(<span style="color:#66d9ef">int</span> t,<span style="color:#66d9ef">int</span> flag)<span style="color:#75715e">//åˆ¤æ–­æ˜¯å¦æ˜¯è´Ÿç¯ä¸­ç‚¹
</span><span style="color:#75715e"></span>{
    <span style="color:#66d9ef">if</span>(flag <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)<span style="color:#75715e">//flagç­‰äº0ä»£è¡¨æ²¡æœ‰è´Ÿç¯
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> true;
    <span style="color:#66d9ef">if</span>(t<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)<span style="color:#75715e">//èµ°å‡ºå»äº†,è¯¥ç‚¹ä¸åœ¨è´Ÿç¯ä¸Š
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> true;
    <span style="color:#66d9ef">if</span>(t <span style="color:#f92672">==</span> flag)<span style="color:#75715e">//è½¬å›æ¥äº†,æœ‰è´Ÿç¯
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> false;
    <span style="color:#66d9ef">return</span> neCircle(pre[t],flag);
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> t;
    scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>t);
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> f<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;f<span style="color:#f92672">&lt;</span>t;f<span style="color:#f92672">++</span>)
    {
        memset(weight,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(weight));
        memset(dis,<span style="color:#ae81ff">127</span>,<span style="color:#66d9ef">sizeof</span>(dis));
        memset(cnt,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(cnt));
        memset(inq,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(inq));
        memset(pre,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(pre));<span style="color:#75715e">//åˆå§‹åŒ–
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> n,m,c;
        scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>n);
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">++</span>)<span style="color:#75715e">//ä» 1 å¼€å§‹
</span><span style="color:#75715e"></span>            G[i].clear();
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
            scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,weight<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>i);
        scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>m);
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>m;i<span style="color:#f92672">++</span>)<span style="color:#75715e">//æœ‰å‘è¾¹
</span><span style="color:#75715e"></span>        {
            <span style="color:#66d9ef">int</span> a,b;
            scanf(<span style="color:#e6db74">&#34;%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b);
            G[a].push_back(make_pair(b,power3(weight[b]<span style="color:#f92672">-</span>weight[a])));<span style="color:#75715e">//è¾¹æƒå…¬å¼
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// G[b].push_back(make_pair(a,power3(weight[a]-weight[b])));
</span><span style="color:#75715e"></span>        }
        queue<span style="color:#f92672">&lt;</span>pair<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>,<span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">&gt;</span> q;<span style="color:#75715e">//SPFAé˜Ÿåˆ—
</span><span style="color:#75715e"></span>        q.push(make_pair(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>));<span style="color:#75715e">//æºç‚¹,pair&lt;int,int&gt;ç¬¬ä¸€ä¸ªæ˜¯è¦è®¿é—®çš„ç‚¹,ç¬¬äºŒä¸ªæ˜¯è®¿é—®ç‚¹çš„å‰é©±
</span><span style="color:#75715e"></span>        dis[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        pre[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
        inq[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">int</span> flag <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">while</span>(<span style="color:#f92672">!</span>q.empty())
        {
            pair<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>,<span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> curNode <span style="color:#f92672">=</span>q.front();
            q.pop();
            <span style="color:#66d9ef">int</span> cur <span style="color:#f92672">=</span> curNode.first;
            pre[cur] <span style="color:#f92672">=</span> curNode.second;<span style="color:#75715e">//è®°å½•å‰é©±
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span>(<span style="color:#f92672">++</span>cnt[cur]<span style="color:#f92672">&gt;</span>n)<span style="color:#75715e">//è´Ÿç¯é€€å‡º
</span><span style="color:#75715e"></span>            {
                flag <span style="color:#f92672">=</span> cur;<span style="color:#75715e">//è®°å½•è´Ÿç¯é€€å‡ºç‚¹
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">break</span>;
            }
            inq[cur] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//ä¸åœ¨é˜Ÿä¸­
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">auto</span> i:G[cur])<span style="color:#75715e">//éå†å…¶é‚»æ¥ç‚¹
</span><span style="color:#75715e"></span>            {
                <span style="color:#66d9ef">int</span> nxt<span style="color:#f92672">=</span>i.first,Wei <span style="color:#f92672">=</span> i.second;<span style="color:#75715e">//ç‚¹å’Œè¾¹æƒ
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span>(dis[nxt]<span style="color:#f92672">&gt;</span>dis[cur]<span style="color:#f92672">+</span>Wei)<span style="color:#75715e">//æ¾å¼›æˆåŠŸ
</span><span style="color:#75715e"></span>                {
                    dis[nxt] <span style="color:#f92672">=</span> dis[cur]<span style="color:#f92672">+</span>Wei;
                    <span style="color:#66d9ef">if</span>(inq[nxt]<span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)<span style="color:#75715e">//ä¸åœ¨é˜Ÿä¸­
</span><span style="color:#75715e"></span>                    {
                        q.push(make_pair(nxt,cur));
                        inq[nxt] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
                    }
                }
            }
        }
        scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>c);
        printf(<span style="color:#e6db74">&#34;Case %d:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,f<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>c;i<span style="color:#f92672">++</span>)
        {
            <span style="color:#66d9ef">int</span> nxt;
            scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>nxt);
            <span style="color:#66d9ef">if</span>(dis[nxt]<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">10000000</span><span style="color:#f92672">||</span>dis[nxt]<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span>)<span style="color:#75715e">//æ— æ³•åˆ°è¾¾å’Œå¤ªçŸ­
</span><span style="color:#75715e"></span>                printf(<span style="color:#e6db74">&#34;?</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
            <span style="color:#66d9ef">else</span> 
                <span style="color:#66d9ef">if</span>(neCircle(nxt,flag))<span style="color:#75715e">//è´Ÿç¯
</span><span style="color:#75715e"></span>                    printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,dis[nxt]);
                <span style="color:#66d9ef">else</span>
                    printf(<span style="color:#e6db74">&#34;?</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
            
        }
    }
}

</code></pre></div><h3 id="æ€»ç»“-2">æ€»ç»“<a hidden class="anchor" aria-hidden="true" href="#æ€»ç»“-2">#</a></h3>
<p>è´Ÿç¯ä¸­ç‚¹çš„åˆ¤æ–­å¯ä»¥ä½¿ç”¨å‰é©±èŠ‚ç‚¹æ¥åˆ¤æ–­,ä¸€å¼€å§‹ç¡®å®æ²¡æƒ³åˆ°,ä¹‹åå°±ç”¨è¿™ä¸ªæ–¹æ³•å»åˆ¤æ–­äº†</p>
<p>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜,å¦‚æœå›¾ä¸­æœ‰ä¸¤ä¸ªè´Ÿç¯æ€ä¹ˆåˆ¤æ–­,æˆ‘è¿™ä¸ªä»£ç æ²¡æœ‰è®¨è®ºä¸¤ä¸ªè´Ÿç¯çš„æƒ…å†µ,ç„¶åè¿‡äº†,ä½†æ˜¯ä¸æ˜¯å¾ˆæ˜ç™½æ€ä¹ˆåˆ¤æ–­å¤šä¸ªè´Ÿç¯,è€Œä¸”è¿™ä¸ªé¢˜ä¸­å¥½åƒä¹Ÿæ²¡æœ‰æ¶‰åŠåˆ°ä¸¤ä¸ªè´Ÿç¯çš„æƒ…å†µ</p>
<h1 id="cspæœˆæ¨¡æ‹Ÿ">CSPæœˆæ¨¡æ‹Ÿ<a hidden class="anchor" aria-hidden="true" href="#cspæœˆæ¨¡æ‹Ÿ">#</a></h1>
<h2 id="201604-3-è·¯å¾„">201604-3 è·¯å¾„<a hidden class="anchor" aria-hidden="true" href="#201604-3-è·¯å¾„">#</a></h2>
<blockquote>
<p>ä¹ æƒ¯è¯¯äºº !!!</p>
</blockquote>
<h3 id="é¢˜æ„-3">é¢˜æ„<a hidden class="anchor" aria-hidden="true" href="#é¢˜æ„-3">#</a></h3>
<p><img src="https://i.loli.net/2020/04/16/DpKyOB9hJWqrzfw.png" alt=""></p>
<p>é¢˜æ„å…¶å®ä¸éš¾,å°±æ˜¯çº¯æ¨¡æ‹Ÿ,æ¨¡æ‹Ÿcdçš„æ“ä½œ,è§„èŒƒä¸€ä¸ªç›®å½•</p>
<h3 id="è§£æ³•-3">è§£æ³•<a hidden class="anchor" aria-hidden="true" href="#è§£æ³•-3">#</a></h3>
<p>é¦–å…ˆåœ¨å°†è¯»å…¥çš„å­—ç¬¦ä¸²æŒ‰ç…§'/&lsquo;è¿›è¡Œåˆ†å‰²å­˜å…¥åˆ°vectorä¸­,è¯»å–ä½¿ç”¨getchar,å› ä¸ºä¼šæœ‰ç©ºçš„æƒ…å†µ,å­—ç¬¦ä¸²ä½¿ç”¨stringå­˜,å½“å­—ç¬¦ä¸²å¼€å¤´æ˜¯&rsquo;/&lsquo;æ—¶,å‘å­—ç¬¦ä¸²å¤´éƒ¨åŠ ä¸€ä¸ª&rsquo;root&rsquo;.vectoråä¸ºstrPart</p>
<p>è¿™æ ·æˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªæ²¡æœ‰'/&lsquo;çš„å­—ç¬¦ä¸²æ•°ç»„.æˆ‘ä»¬å¼€ä¸€ä¸ªstringçš„vector curPartç”¨äºè®°å½•æœ€ç»ˆä¸å¸¦&rsquo;/&lsquo;çš„è·¯å¾„.  å¦‚æœæ•°ç»„å¼€å¤´æ˜¯ä¸æ˜¯&rsquo;root&rsquo;,æ˜¯ç›¸å¯¹è·¯å¾„,æˆ‘ä»¬æŠŠä¹‹å‰å¤„ç†è¿‡çš„å½“å‰è·¯å¾„(pwd)èµ‹ç»™curPart,å¦åˆ™è®©curPartä¸ºç©º,ç„¶åéå†strPart,å¯¹äº&quot;.&ldquo;ç›´æ¥continue,å¯¹äº&rdquo;..&ldquo;å…ˆåˆ¤æ–­curPartå…ƒç´ ä¸ªæ•°å¤§äº1å°±pop_back,å¦åˆ™ä¸åŠ¨,å…¶ä»–çš„å°±æ˜¯çœŸæ­£çš„æ–‡ä»¶åäº†,åŠ å…¥åˆ°curPartä¸­,æœ€ç»ˆè¿”å›curPart.</p>
<p>é™¤æ­¤ä¹‹å¤–æˆ‘ä»¬è¿˜è¦ä¸»æ„å½“ç©ºå­—ç¬¦ä¸²çš„æ—¶å€™(å°±ä¸€ä¸ª'\n'),ç›´æ¥è¾“å‡ºå½“å‰è·¯å¾„å°±è¡Œäº†</p>
<h3 id="code-3">code<a hidden class="anchor" aria-hidden="true" href="#code-3">#</a></h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstring&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;sstream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

string data;<span style="color:#75715e">//æ¯æ¬¡è¯»å…¥
</span><span style="color:#75715e"></span>string pwd;<span style="color:#75715e">//å½“å‰è·¯å¾„
</span><span style="color:#75715e"></span>vector<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> pwdPart;<span style="color:#75715e">//å¤„ç†å®Œçš„å½“å‰è·¯å¾„
</span><span style="color:#75715e"></span>
vector<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> genFileStruct(<span style="color:#66d9ef">const</span> string<span style="color:#f92672">&amp;</span> originStr,<span style="color:#66d9ef">int</span> choose<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)<span style="color:#75715e">//chooseæ˜¯ä¸ºäº†pwdå‡†,ä¸åˆ é™¤root
</span><span style="color:#75715e"></span>{
    vector<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> strPart;<span style="color:#75715e">//é¦–å…ˆåˆ†æ®µ
</span><span style="color:#75715e"></span>    string temp;
    vector<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> curPart;
    string <span style="color:#a6e22e">newStr</span>(<span style="color:#e6db74">&#34;root&#34;</span>);<span style="color:#75715e">//åŠ ä¸Šroot
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(originStr.size()<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span><span style="color:#f92672">||</span>originStr[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;/&#39;</span>)
        newStr <span style="color:#f92672">=</span> newStr<span style="color:#f92672">+</span>originStr;
    <span style="color:#66d9ef">else</span>
        newStr <span style="color:#f92672">=</span> originStr;
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">char</span> i:newStr)<span style="color:#75715e">//å¼€å§‹åˆ†ç¦»å¼€æ¯ä¸ªæ–‡ä»¶(å¤¹)å .. å’Œ .
</span><span style="color:#75715e"></span>    {
        <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;/&#39;</span>)
            temp<span style="color:#f92672">+=</span>i;
        <span style="color:#66d9ef">else</span>
        {
            <span style="color:#66d9ef">if</span>(temp.size()<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>)<span style="color:#75715e">//ä¸åŠ å…¥ç©ºå­—ç¬¦ä¸²
</span><span style="color:#75715e"></span>                strPart.push_back(temp);
            temp.clear();
        }
    }
    <span style="color:#66d9ef">if</span>(strPart[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">!=</span><span style="color:#e6db74">&#34;root&#34;</span>)<span style="color:#75715e">//ä¸æ˜¯rootåˆ™ä»£è¡¨æ˜¯ç›¸å¯¹è·¯å¾„
</span><span style="color:#75715e"></span>        curPart <span style="color:#f92672">=</span> pwdPart;
    <span style="color:#66d9ef">for</span>(string i:strPart)
    {
        <span style="color:#66d9ef">if</span>(i <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;..&#34;</span>)<span style="color:#75715e">//å¼¹æ ˆ
</span><span style="color:#75715e"></span>        {
            <span style="color:#66d9ef">if</span>(curPart.size()<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">1</span>)<span style="color:#75715e">//ä¸èƒ½æŠŠrootå¼¹äº†
</span><span style="color:#75715e"></span>                curPart.pop_back();
        }
        <span style="color:#66d9ef">else</span> <span style="color:#a6e22e">if</span>(i<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;.&#34;</span>)
            <span style="color:#66d9ef">continue</span>;
        <span style="color:#66d9ef">else</span><span style="color:#75715e">//å‹æ ˆ
</span><span style="color:#75715e"></span>            curPart.push_back(i);
    }
    <span style="color:#66d9ef">if</span> (choose <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>)<span style="color:#75715e">//ä¸åˆ root
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> curPart;
    curPart.erase(curPart.begin());<span style="color:#75715e">//æŠŠrootåˆ äº†,æ–¹ä¾¿è¾“å‡º
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> curPart;
}

string <span style="color:#a6e22e">readInput</span>()<span style="color:#75715e">//getcharè¯»å–
</span><span style="color:#75715e"></span>{
    string temp;
    <span style="color:#66d9ef">char</span> c;
    <span style="color:#66d9ef">while</span>((c<span style="color:#f92672">=</span>getchar())<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;\n&#39;</span>)
        temp<span style="color:#f92672">=</span>temp<span style="color:#f92672">+</span>c;
    <span style="color:#66d9ef">return</span> temp;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> n;
    cin<span style="color:#f92672">&gt;&gt;</span>n;
    getchar();
    pwd <span style="color:#f92672">=</span> readInput();
    pwdPart <span style="color:#f92672">=</span> genFileStruct(pwd<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;/&#34;</span>,<span style="color:#ae81ff">1</span>);<span style="color:#75715e">//åŠ /æ˜¯ä¸ºäº†æ–¹ä¾¿åˆ†ç¦»
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> t<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;t<span style="color:#f92672">&lt;</span>n;t<span style="color:#f92672">++</span>)
    {
        data.clear();
        data <span style="color:#f92672">=</span> readInput();
        vector<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> ans;
        <span style="color:#66d9ef">if</span>(data.size() <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>)
            ans <span style="color:#f92672">=</span> genFileStruct(data<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;/&#34;</span>);
        <span style="color:#66d9ef">else</span> <span style="color:#75715e">//ç©ºå­—ç¬¦ä¸²
</span><span style="color:#75715e"></span>        {
            ans <span style="color:#f92672">=</span> pwdPart;<span style="color:#75715e">//å½“å‰è·¯å¾„
</span><span style="color:#75715e"></span>            ans.erase(ans.begin());<span style="color:#75715e">//åˆ é™¤root
</span><span style="color:#75715e"></span>        }
        <span style="color:#66d9ef">if</span>(ans.size()<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)<span style="color:#75715e">//å…¨æ˜¯/çš„æƒ…å†µ
</span><span style="color:#75715e"></span>        {
            cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
            <span style="color:#66d9ef">continue</span>;
        }
        <span style="color:#66d9ef">for</span>(string i:ans)
        {
            cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;/&#34;</span>;
            cout<span style="color:#f92672">&lt;&lt;</span>i;
        }
        cout<span style="color:#f92672">&lt;&lt;</span>endl;
    }
}
</code></pre></div><h3 id="æ€»ç»“-3">æ€»ç»“<a hidden class="anchor" aria-hidden="true" href="#æ€»ç»“-3">#</a></h3>
<p>è¿™é“é¢˜æ¯”è¾ƒç®€å•,ä¸€å¼€å§‹å¾ˆå¿«å°±å†™å®Œäº†,ç»“æœ60åˆ†,è¯»ä¸€éé¢˜,å‘ç°æ²¡å¤„ç†ç©ºå­—ç¬¦ä¸²çš„æƒ…å†µ,åŠ ä¸Š70åˆ†,ç„¶åæµ‹äº†å¥½é•¿æ—¶é—´ä¸çŸ¥é“åŸå› .åæ¥åœ¨è¯»ä¸€è¾¹é¢˜</p>
<p><img src="https://i.loli.net/2020/04/16/Ph4CqpM8kYNyXd7.png" alt=""></p>
<p>åªè¦æ˜¯ä¸ä»¥'/&lsquo;å¼€å¤´çš„éƒ½æ˜¯ç›¸å¯¹è·¯å¾„,å› æ­¤ä¸ç”¨è¾“./ä¹Ÿæ˜¯ä»å½“å‰è·¯å¾„å¼€å§‹çš„,ä¹‹å‰æ•²å‘½ä»¤ä¹ æƒ¯æ€§æŒ‰table,è¡¥å…¨çš„å…¨æ˜¯å¸¦./çš„,å®Œå…¨æ²¡æœ‰æ„è¯†åˆ°ä¼šæœ‰ä¸å¸¦./çš„æƒ…å†µğŸ˜­ç„¶åæ”¹äº†ä¸€ä¸‹åˆ¤æ–­æ¡ä»¶å°±è¿‡äº†</p>

</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://xyfuture.github.io/tags/program/">Program</a></li>
      <li><a href="https://xyfuture.github.io/tags/homework/">homework</a></li>
    </ul>
  </footer>
</article>
    </main><footer class="footer">
    <span>&copy; 2021 <a href="https://xyfuture.github.io/">My New Hugo Site</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>



<script defer src="/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js" integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w="
    onload="hljs.initHighlightingOnLoad();"></script>
<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.replaceState(null, null, `#${id}`);
            }
        });
    });
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
